!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);o(n(3)),o(n(35)),o(n(62)),o(n(64)),o(n(66)),o(n(18)),o(n(69)),o(n(11)),o(n(34)),o(n(13)),o(n(59)),o(n(12)),o(n(63)),o(n(68)),o(n(14)),o(n(65)),o(n(67)),r.defineRequire("code/GameObject",this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),r=n(25);t.Phaser=r;var i=n(102);t.MathDAD=i,function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(99)),o.defineRequire("code/Libs",this)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(29),r=n(17),i=n(30),a=n(5),s=n(10);n(49);var u,c,p,l=!1;window.startGameOrderOrEquation=function(e,n){s.levelSelectInfo.gameBeginPlayed=n,t.game=e,l?t.game.state.start("levelSelect"):(u=new i.PreloadState("levelSelect"),t.game.state.add("preloadState",u),c=new r.LevelSelectState,t.game.state.add("levelSelect",c),p=new o.MainState,t.game.state.add("main",p),l=!0,t.game.state.start("preloadState"))},a.defineRequire("code/main",this)},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(32)),o(n(33)),o(n(31)),o(n(50))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fonts={Revalia:"Revalia",OpenSans:"Open Sans",Amaranth:"Amaranth"},t.textStyleConfig={align:"center",font:t.fonts.Amaranth,fontSize:80,fill:"white",fontWeight:"bold"}},function(e,t,n){"use strict";function o(e,t){if(window.__Game__DEBUG){window.require=window.require||r;for(var n=e.split("/").filter(function(e){return""!==e}),o=0;o<n.length&&"code"!==n[o];o++);for(var a="";o<n.length;o++)o+1<n.length?a+=n[o].toLowerCase()+"/":a+=n[o].toLowerCase();i[a]=t}}function r(e){for(var t=e.split("/").filter(function(e){return""!==e}),n=0;n<t.length&&"code"!==t[n];n++);for(var o="";n<t.length;n++)n+1<t.length?o+=t[n].toLowerCase()+"/":o+=t[n].toLowerCase();return i[o]}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.create(null);t.defineRequire=o},function(e,t,n){"use strict";function o(e){c.forEach(function(t){return t.listener.call(t.context,e)})}function r(e){p.forEach(function(t){return t.listener.call(t.context,e)})}function i(e){l.forEach(function(t){return t.listener.call(t.context,e)})}function a(e){h.forEach(function(t){return t.listener.call(t.context,e)})}function s(e){m.forEach(function(t){return t.listener.call(t.context,e)})}function u(e){d.forEach(function(t){return t.listener.call(t.context,e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.events={onLoad:{add:function(e,t){c.push({listener:e,context:t})},remove:function(e){c=c.filter(function(t){return t.listener!==e})}},onCreate:{add:function(e,t){p.push({listener:e,context:t})},remove:function(e){p=p.filter(function(t){return t.listener!==e})}},onUpdate:{add:function(e,t){l.push({listener:e,context:t})},remove:function(e){l=l.filter(function(t){return t.listener!==e})}},onShutdown:{add:function(e,t){h.push({listener:e,context:t})},remove:function(e){h=h.filter(function(t){return t.listener!==e})}},onRender:{add:function(e,t){m.push({listener:e,context:t})},remove:function(e){m=h.filter(function(t){return t.listener!==e})}},onLevelWon:{add:function(e,t){d.push({listener:e,context:t})},remove:function(e){d=d.filter(function(t){return t.listener!==e})}}};var c=new Array,p=new Array,l=new Array,h=new Array,m=new Array,d=new Array;t.runOnLoad=o,t.runOnCreate=r,t.runOnUpdate=i,t.runOnShutdown=a,t.runOnRender=s,t.runOnLevelWon=u},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=n(3),a=n(1),s=n(12),u=n(18);t.NumberComponent=u.NumberComponent;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.priority=0,n._symbolName="none",n}return o(t,e),Object.defineProperty(t.prototype,"symbolName",{get:function(){return this._symbolName},enumerable:!0,configurable:!0}),t.prototype.calc=function(e,t){throw"can not use base class : SymbolComponent"},t.prototype.isCalcValid=function(e,t){return!0},t.prototype.getSymbolsNumbers=function(e,t){var n={};return n.right=a.findMinElement(e.filter(function(e){return e.index>t}),function(e){return e.index}),n.left=a.findMaxElement(e.filter(function(e){return e.index<t}),function(e){return e.index}),n},t.prototype.checkNext=function(e){return!!e&&(!!e.getComponent(r.NumberComponent)||!!e.getComponent("RootComponent"))},t}(i.PhaserSpriteBehavior);c.componentName="SymbolComponet",c.inheritedComponentNames=[s.ICheckNextAbleType],t.SymbolComponent=c},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);o(n(116)),o(n(117)),o(n(118)),r.defineRequire("code/Managers",this)},function(e,t,n){"use strict";function o(e){e===i.Main&&l.loadAllAssetsImports(a),c[e].forEach(function(e){return e(s.game)})}function r(e,t){return function(n,o,r){if(void 0!==t){if(u.exitsInArray(p,t))return;p.push(t)}c[e]||(c[e]=[]),c[e].push(r.value)}}Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(24),s=n(2),u=n(1),c=[[]],p=[];!function(e){e[e.Preload=0]="Preload",e[e.Main=1]="Main"}(i=t.StateEnum||(t.StateEnum={})),t.loadMainSceneAsset=o,t.assetLoadMethod=r;var l;!function(e){function t(e){return"function"==typeof e.loadAssets}function n(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var o=0,r=e;o<r.length;o++){var i=r[o];t(i)?i.loadAssets(s.game):i(s.game)}}function o(e){for(var n in e){var o=e[n];t(o)&&!u.exitsInArray(c[i.Main],o.loadAssets)&&o.loadAssets(s.game)}}e.loadAllAssets=n,e.loadAllAssetsImports=o}(l||(l={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.levelSelectInfo={gameBeginPlayed:"order",amountOfLevels:40,backButtonSprite:{key:"backButtonKey",spriteUrl:"images/backButton.png"},loadScreenSprite:{key:"loadScreenKey",spriteUrl:"images/percentageLoadScreen.jpg"},levelSelectBackgroundSprite:{key:"levelSelectBackgroundKey",spriteUrl:"images/lvlbg.png"},buttonBackgroundSprite:{key:"buttonBackgroundKey",spriteUrl:"images/buttonBackground.png"},buttonBackgroundGreySprite:{key:"buttonBackgroundGreyKey",spriteUrl:"images/buttonBackgroundGrey.png"},buttonArrowSprite:{key:"buttonArrowKey",spriteUrl:"images/btnArrowTest.png"}}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),i=n(35),a=n(13),s=function(e){function t(t,n,o,r){var i=e.call(this,t,n,o,r)||this;return i._dropAreaUsing=null,i._isBeginMove=!1,i.events={get onDragStart(){return t.events.onDragStart},get onDragStop(){return t.events.onDragStop},onMoveTowardsDropArea:new Phaser.Signal},i.sprite.inputEnabled=!0,i.events.onDragStart.add(i._eventDragstart,i),i.events.onDragStop.add(i._eventDragEnd,i),i.sprite.input.enableDrag(),i}return o(t,e),Object.defineProperty(t.prototype,"getIsBeginDragged",{get:function(){return this._isBeginMove},enumerable:!0,configurable:!0}),t.prototype._eventDragstart=function(){this._isBeginMove=!0,this._moveTween&&this._moveTween.stop(),this._dropAreaUsing&&this._dropAreaUsing.SetObjectInArea(this.sprite,i.ObjectInAreaStatusEnum.reservedArea),this.receiveOverlapEvent=!0},t.prototype._eventDragEnd=function(){var e=this;if(this._isBeginMove=!1,this._dropAreaUsing){this._dropAreaUsing.SetObjectInArea(this.sprite,i.ObjectInAreaStatusEnum.movingTowardsArea),this._moveToPoint=this._dropAreaUsing.sprite.position,this.events.onMoveTowardsDropArea.dispatch(this._dropAreaUsing);var t=this._dropAreaUsing.sprite;this._beginTweenMoveDropArea(t,function(){e._dropAreaUsing&&e._dropAreaUsing.SetObjectInArea(e.sprite,i.ObjectInAreaStatusEnum.inArea)},this)}else this.notDropInArea();this.receiveOverlapEvent=!1},t.prototype.notDropInArea=function(){throw"can not use base class : DragAndDropComponent"},t.prototype._beginTweenMoveDropArea=function(e,t,n){if(this._moveTween&&this._moveTween.stop(),this._moveTween){var o=this._moveTween;this._moveTween=r.dropInAreaTween(this.sprite,e),this._moveTween.onChildComplete=o.onChildComplete,this._moveTween.onComplete=o.onComplete,this._moveTween.onLoop=o.onLoop,this._moveTween.onRepeat=o.onRepeat,this._moveTween.onStart=o.onStart}else this._moveTween=r.dropInAreaTween(this.sprite,e);t&&this._moveTween.onComplete.addOnce(t,n),this._moveTween.start()},t.prototype.onOverlapStay=function(e){this._dropAreaUsing||(e=e.filter(function(e){return e.getComponent(i.DropAreaComponent).getObjectInAreaStatus===i.ObjectInAreaStatusEnum.noObject}),e.length>0&&(this._dropAreaUsing=e[0].getComponent(i.DropAreaComponent),this._dropAreaUsing.SetObjectInArea(this.sprite,i.ObjectInAreaStatusEnum.reservedArea)))},t.prototype.onOverlapExit=function(e){this._dropAreaUsing&&this._dropAreaUsing.getObjectInAreaStatus!==i.ObjectInAreaStatusEnum.inArea&&this._dropAreaUsing.getObjectInAreaStatus!==i.ObjectInAreaStatusEnum.movingTowardsArea&&-1!==e.indexOf(this._dropAreaUsing.sprite)&&(this._dropAreaUsing.SetObjectInArea(this.sprite,i.ObjectInAreaStatusEnum.noObject),this._dropAreaUsing=null)},t.prototype.onRemove=function(){e.prototype.onRemove.call(this),this.events.onDragStart.remove(this._eventDragstart,this),this.events.onDragStop.remove(this._eventDragEnd,this)},t.prototype.SetDragAble=function(e){e?this.sprite.input.enableDrag():(this.sprite.input.disableDrag(),this.receiveOverlapEvent=!1)},t}(a.RectangleOverlapComponent);s.componentName="DragAndDropComponent",s.inheritedComponentNames=[a.RectangleOverlapComponent],t.DragAndDropComponent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICheckNextAbleType={componentName:"ICheckNextAbleType"}},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),a=function(e){function t(t,n,o,r){void 0===o&&(o=[]);var a=e.call(this,t)||this;return r&&(a.overlapRectangleOffSet=new Phaser.Point(r.x,r.y),a.overlapRectangle=r),i.RectangleOverlapManger.addItem(a,n,o),a}return o(t,e),t.prototype.getOverlapRectangle=function(){return this.overlapRectangle?(this.overlapRectangle.x=this.sprite.position.x+this.overlapRectangleOffSet.x,this.overlapRectangle.y=this.sprite.position.y+this.overlapRectangleOffSet.y,this.overlapRectangle):this.sprite.getBounds()},t.prototype.onRemove=function(){i.RectangleOverlapManger.removeItem(this)},t}(r.PhaserSpriteBehavior);a.componentName="RectangleOverlapComponent",t.RectangleOverlapComponent=a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.events={onReset:new Phaser.Signal},t}return o(t,e),t.prototype.resetObject=function(e){var t=e.x,n=e.y,o=e.scale,r=e.exists,i=e.alpha,a=e.tint;t&&(this.sprite.position.x=t),n&&(this.sprite.position.y=n),o&&this.sprite.scale.setTo(o.x,o.y),this.sprite.exists=void 0===r||r,i&&(this.sprite.alpha=i),a&&(this.sprite.tint=a),this.events.onReset.dispatch(e)},t}(r.PhaserSpriteBehavior);i.componentName="ResetAbleComponent",t.ResetAbleComponent=i},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(94)),o(n(93))},function(e,t,n){"use strict";function o(e,t){function n(){++r<o.length||P.game.time.events.add(300,e)}var o=t.dropAreas;o.forEach(function(e){e.game.add.tween(e).to({alpha:0},1e3,Phaser.Easing.Exponential.Out,!0).onComplete.addOnce(n)});var r=0}function r(e,t){function n(){++c<3||e()}var o=t.currentSymbol,r=t.right,i=t.left,a=o.value,s=a.x,u=a.y,c=0;P.game.add.tween(o.value).to({alpha:0},600,Phaser.Easing.Exponential.Out,!0).onComplete.addOnce(n),r?P.game.add.tween(r.value).to({alpha:0,x:s,y:u},600,Phaser.Easing.Exponential.Out,!0).onComplete.addOnce(n):c++,i?P.game.add.tween(i.value).to({alpha:0,x:s,y:u},600,Phaser.Easing.Exponential.Out,!0).onComplete.addOnce(n):c++}function i(e,t){function n(){P.game.time.events.add(700,e)}var o=t.newNumber;o.value.alpha=0,P.game.add.tween(o.value).to({alpha:1},200,Phaser.Easing.Exponential.Out,!0).onComplete.addOnce(n)}function a(e,t){function n(){var e=new O.CallbackCounter(2,o),t=P.game.add.tween(a).to(u,600,Phaser.Easing.Exponential.In),n=P.game.add.tween(i.value).to({alpha:0},400);t.start().onComplete.addOnce(e.CountUp,e),n.start().onComplete.addOnce(e.CountUp,e)}function o(){var e=new O.CallbackCounter(s.length+1,r);i.value.tint=p,O.Phaser.tweenTint([a],a.tint,c,1e3).start().onComplete.addOnce(e.CountUp,e),s.forEach(function(t){t.game.add.tween(t).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0).onComplete.addOnce(e.CountUp,e)})}function r(){P.game.time.events.add(300,e)}var i=t.newNumber,a=t.winSymbol,s=t.dropAreas,u=a.position.clone(),c=a.tint,p=i.value.tint,l=P.game.world.centerX,h=P.game.add.tween(i.value).to({x:l},600,Phaser.Easing.Elastic.Out),m=P.game.add.tween(a).to({left:i.value.right-50},600,Phaser.Easing.Exponential.In),d=O.Phaser.tweenTint([i.value,a],a.tint,15073280,500);d.onComplete.addOnce(n),h.chain(m,d).start()}function s(e,t){function n(){P.game.time.events.add(300,e)}var o=t.newNumber,r=t.winSymbol,i=P.game.world.centerX,a=P.game.add.tween(o.value).to({x:i},600,Phaser.Easing.Elastic.Out),s=P.game.add.tween(r).to({left:o.value.right-50},600,Phaser.Easing.Exponential.In),u=O.Phaser.tweenTint([o.value,r],r.tint,58880,500),c=P.game.add.tween(o.value.scale).to({x:2,y:2},600,Phaser.Easing.Exponential.InOut,!1,30).yoyo(!0);c.onComplete.addOnce(n),a.chain(s,u,c).start()}function u(e,t){if(t.currentParenthesisPair){var n=t.currentParenthesisPair,o=n.parenthesisLeft,r=n.parenthesisRight,i=new O.CallbackCounter(2,e);P.game.add.tween(o).to({alpha:0},333,Phaser.Easing.Exponential.In).start().onComplete.addOnce(i.CountUp,i),P.game.add.tween(r).to({alpha:0},333,Phaser.Easing.Exponential.In).start().onComplete.addOnce(i.CountUp,i)}else e()}function c(e,t){t.compositesAndPartsIndex.forEach(function(e){var t=e.value,n=t.compositeObject,o=t.numberObject,r=t.symbolObject;o.position.copyFrom(n.position),r.position.copyFrom(n.position)}),e()}function p(e,t){for(var n=t.dropAreas,o=t.otherNumberValues,r=t.otherSymbolValues,i=[],a=0,s=n;a<s.length;a++){var u=s[a];u.objectInArea&&i.push(u.objectInArea)}for(var c=new O.CallbackCounter(o.length+r.length+n.length,e),p=0,l=o;p<l.length;p++){var h=l[p];if(O.exitsInArray(i,h.value))c.CountUp();else{var m=P.game.add.tween(h.value).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0);m.onComplete.addOnce(e),m.start()}}for(var d=0,f=r;d<f.length;d++){var y=f[d];if(O.exitsInArray(i,y.value))c.CountUp();else{var m=P.game.add.tween(y.value).to({alpha:0},1e3,Phaser.Easing.Linear.None,!0);m.onComplete.addOnce(e),m.start()}}for(var v=0,b=n;v<b.length;v++){var g=b[v];if(g.objectInArea&&g.objectInArea.getComponent(w.DragAndDropComponent)){var m=P.game.add.tween(g).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0);m.onComplete.addOnce(e),m.start()}else c.CountUp()}}function l(e,t){var n=t.numberObjectZero;P.game.add.tween(n).to({alpha:0},450,Phaser.Easing.Exponential.InOut,!0).onComplete.addOnce(e)}function h(e,t){var n=t.otherNumberValues,o=t.rightSideStartIndex,r=t.newSymbolObject;if(!o)return void e();var i=n.filter(function(e){return e.index<o}),a=O.Phaser.findMidPoint(i[0].value,i[1].value);r.position.setTo(a.x,a.y),r.alpha=0,P.game.add.tween(r).to({alpha:1},450,Phaser.Easing.Exponential.InOut,!0).onComplete.addOnce(e)}function m(e){t.beginAnimationFunc=e||o}function d(e){t.processBeginAnimationFunc=e||r}function f(e){t.processEndAnimationFunc=e||i}function y(e){t.loseAnimationFunc=e||a}function v(e){t.winAnimationFunc=e||s}function b(e){t.parenthesisDoneAnimationFunc=e||u}function g(e){t.splitAnimationFunc=e||c}function _(e){t.loseEquationAnimationFunc=e||p}function C(e){t.edgeCaseRemoveZeroAnima=e||l}Object.defineProperty(t,"__esModule",{value:!0});var O=n(1),P=n(2),w=n(0);t.beginAnimationFunc=o,t.processBeginAnimationFunc=r,t.processEndAnimationFunc=i,t.loseAnimationFunc=a,t.winAnimationFunc=s,t.parenthesisDoneAnimationFunc=u,t.splitAnimationFunc=c,t.loseEquationAnimationFunc=p,t.edgeCaseRemoveZeroAnima=l,t.edgeCaseSpawnSymbolAnima=h,t.setBeginAnimationFunc=m,t.setProcessBeginAnimationFunc=d,t.setProcessEndAnimationFunc=f,t.setLoseAnimationFunc=y,t.setWinAnimationFunc=v,t.setParenthesisDoneAnimationFunc=b,t.setSplitAnimationFunc=g,t.setLoseEquationAnimationFunc=_,t.setEdgeCaseRemoveZeroAnimationFunc=C},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(121),i=n(123),a=n(119),s=n(10),u=function(e){function t(){var t=e.call(this)||this;return t.tweenDuration=500,t}return o(t,e),t.prototype.preload=function(){this.load.baseURL="./assets/levelSelect/",this.game.load.image(s.levelSelectInfo.backButtonSprite.key,s.levelSelectInfo.backButtonSprite.spriteUrl),this.game.load.image(s.levelSelectInfo.buttonArrowSprite.key,s.levelSelectInfo.buttonArrowSprite.spriteUrl),this.game.load.image(s.levelSelectInfo.buttonBackgroundGreySprite.key,s.levelSelectInfo.buttonBackgroundGreySprite.spriteUrl),this.game.load.image(s.levelSelectInfo.buttonBackgroundSprite.key,s.levelSelectInfo.buttonBackgroundSprite.spriteUrl),this.game.load.image(s.levelSelectInfo.levelSelectBackgroundSprite.key,s.levelSelectInfo.levelSelectBackgroundSprite.spriteUrl),this.game.load.image(s.levelSelectInfo.loadScreenSprite.key,s.levelSelectInfo.loadScreenSprite.spriteUrl)},t.prototype.create=function(){i.SaveHandler.loadGame(),this.levelSelectBackground=this.game.add.sprite(0,0,s.levelSelectInfo.levelSelectBackgroundSprite.key),this.amountOfLevels=s.levelSelectInfo.amountOfLevels,this.currentBars=new Array,this.bars=this.CreateButtonBars(5,80,80,0),this.CreateArrowButtons(),this.maxLevelPage=Math.floor(this.bars.length/2)+(this.bars.length%2>0?1:0),(c.GetCurrentLevelIndex()+1)%10!=0||c.FiveLevelsCompleted()?!0===c.FiveLevelsCompleted()?(this.SetLevelPage(c.GetCurrentLevelPage(),!0,!0),c.ResetLevelsCompleted()):this.SetLevelPage(c.GetCurrentLevelPage(),!0,!0):(c.GetCurrentLevelIndex()>=s.levelSelectInfo.amountOfLevels-1?this.SetLevelPage(c.GetCurrentLevelPage(),!0,!0):this.SetLevelPage(c.GetCurrentLevelPage()+1,!0,!0),c.ResetLevelsCompleted()),this.UpdateArrowButtons();var e=new a.BackButtonGameSelect(this.game,this.game.width-100,this.game.height-100,s.levelSelectInfo.backButtonSprite.key);this.add.existing(e);var t=this.game.add.sprite(.5*this.game.width,.5*this.game.height,s.levelSelectInfo.loadScreenSprite.key);t.anchor=new Phaser.Point(.5,.5),this.game.add.tween(t).to({alpha:0},1250,Phaser.Easing.Linear.None).start(),this.game.add.tween(t.scale).to({x:1.75,y:1.75},1250,Phaser.Easing.Linear.None).start()},t.prototype.CreateButtonBars=function(e,t,n,o){this.fullBarWidth=e*(t+o)-o;for(var a=Math.floor(this.amountOfLevels/5)+(this.amountOfLevels%5>0?1:0),u=new Array,c=0;c<a;c++)u[c]=this.game.add.group();for(var p=0,l=null,c=0;c<a;c++){for(var h=0;h<5;h++)if(p<this.amountOfLevels){l=null;var m=i.SaveHandler.getLevelData();if(!m)throw Error("no level Data");l=m[p].completed?new r.LevelSelectButton(this.game,0,0,t,n,s.levelSelectInfo.buttonBackgroundSprite.key,p,h):new r.LevelSelectButton(this.game,0,0,t,n,s.levelSelectInfo.buttonBackgroundGreySprite.key,p,h),u[c].add(l),p++}u[c].align(5,1,t+o,n)}for(var c=0;c<u.length;c++)u[c].position=new Phaser.Point(this.game.width,.5*this.game.height);return u},t.prototype.CreateArrowButtons=function(){this.arrowButtonLeft=this.game.add.button(100,.5*this.game.height,s.levelSelectInfo.buttonArrowSprite.key,this.DecrementPage,this),this.arrowButtonLeft.anchor=new Phaser.Point(.5,.5),this.arrowButtonLeft.angle=180,this.arrowButtonRight=this.game.add.button(this.game.width-80-20,.5*this.game.height,s.levelSelectInfo.buttonArrowSprite.key,this.IncrementPage,this),this.arrowButtonRight.anchor=new Phaser.Point(.5,.5)},t.prototype.UpdateArrowButtons=function(){this.levelPage<=0?this.arrowButtonLeft.visible=!1:!1===this.arrowButtonLeft.visible&&(this.arrowButtonLeft.visible=!0),this.IsAtTheEndOfLevelPage()?this.arrowButtonRight.visible=!1:!1===this.arrowButtonRight.visible&&(this.arrowButtonRight.visible=!0)},t.prototype.IncrementPage=function(){this.HasMoreThanOneLevelPage()&&this.IsNotAtTheEndOfLevelPage()&&this.SetLevelPage(this.levelPage+1,!0)},t.prototype.DecrementPage=function(){this.levelPage>0&&this.SetLevelPage(this.levelPage-1,!1)},t.prototype.SetLevelPage=function(e,t,n){this.levelPage=e,c.SetCurrentLevelPage(this.levelPage),this.UpdateArrowButtons(),void 0===n&&this.ExitTweenBars(t),this.EntryTweenBars(t)},t.prototype.EntryTweenBars=function(e){this.currentBars=[];var t=this.levelPage>0?2*this.levelPage:this.levelPage,n=this.tweenDuration,o=this.GetUpperGroupPosition(80,80);if(this.bars[t].position=new Phaser.Point(!0===e?this.game.width:-this.fullBarWidth,o.y),this.game.add.tween(this.bars[t].position).to(o,n,Phaser.Easing.Back.In).start(),this.currentBars.push(this.bars[t]),t+1<this.bars.length){t+=1;var r=this.GetLowerGroupPosition(80,80);this.bars[t].position=new Phaser.Point(!0===e?this.game.width:-this.fullBarWidth,r.y),this.game.add.tween(this.bars[t].position).to(r,n,Phaser.Easing.Back.In).start(),this.currentBars.push(this.bars[t])}},t.prototype.ExitTweenBars=function(e){var t=this.GetUpperGroupPosition(80,80);if(t.x=!0===e?-this.fullBarWidth:this.game.width,this.game.add.tween(this.currentBars[0].position).to(t,450,Phaser.Easing.Back.In).start(),void 0!==this.currentBars[1]){var n=this.GetLowerGroupPosition(80,80);n.x=!0===e?-this.fullBarWidth:this.game.width,this.game.add.tween(this.currentBars[1].position).to(n,500,Phaser.Easing.Back.In).start()}},t.prototype.GetUpperGroupPosition=function(e,t){return new Phaser.Point(.5*this.game.width-.5*this.fullBarWidth,150)},t.prototype.GetLowerGroupPosition=function(e,t){return new Phaser.Point(.5*this.game.width-.5*this.fullBarWidth,this.game.height-150-t)},t.prototype.MaxPagesIsUnevenNumber=function(){return this.maxLevelPage%2>0},t.prototype.IsAtTheEndOfLevelPage=function(){return this.levelPage===this.maxLevelPage-1},t.prototype.HasMoreThanOneLevelPage=function(){return 1!==this.maxLevelPage},t.prototype.IsNotAtTheEndOfLevelPage=function(){return this.levelPage<this.maxLevelPage-1},t}(Phaser.State);t.LevelSelectState=u;var c=function(){function e(){}return e.IncrementCompletedLevels=function(){this.levelsCompletedInARow++},e.FiveLevelsCompleted=function(){return this.levelsCompletedInARow>=5},e.ResetLevelsCompleted=function(){this.levelsCompletedInARow=0},e.SetCurrentLevelPage=function(e){this.lastLevelPage=e},e.GetCurrentLevelPage=function(){return this.lastLevelPage},e.SetCurrentLevelIndex=function(e){this.lastLevelIndex=e},e.GetCurrentLevelIndex=function(){return this.lastLevelIndex},e.GetLevelsCompletedInARow=function(){return this.levelsCompletedInARow},e.SetBackgroundMistLastXPosition=function(e){this.backgroundMistLastPosition=e},e.GetBackgroundMistLastXPosition=function(){return void 0!==this.backgroundMistLastPosition?this.backgroundMistLastPosition:new Phaser.Point(0,0)},e}();c.levelsCompletedInARow=0,c.lastLevelPage=0,c.lastLevelIndex=0,t.LevelTracker=c},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(34),a=n(12),s=function(e){function t(t,n){var o=e.call(this,t)||this;return o._divisionStyling=!1,o._isX=!1,o.events={onNumberChange:new Phaser.Signal},o.numberRepresenting=n,o}return o(t,e),Object.defineProperty(t.prototype,"isX",{get:function(){return this._isX},set:function(e){e!==this._isX&&(this.events.onNumberChange.dispatch(this._numberRepresenting,e,this._divisionStyling),this._isX=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"divisionStyling",{get:function(){return this._divisionStyling},set:function(e){e!==this._divisionStyling&&(this.events.onNumberChange.dispatch(this._numberRepresenting,this._isX,e),this._divisionStyling=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberRepresenting",{get:function(){return this._numberRepresenting},set:function(e){e!==this._numberRepresenting&&(this.events.onNumberChange.dispatch(e,this._isX,this._divisionStyling),this._numberRepresenting=e)},enumerable:!0,configurable:!0}),t.prototype.checkNext=function(e){return!e||(!!e.getComponent(i.SymbolComponent)||!!e.getComponent("CompositeComponent"))},t}(r.PhaserSpriteBehavior);s.componentName="NumberComponent",s.inheritedComponentNames=[a.ICheckNextAbleType],t.NumberComponent=s},function(e,t,n){"use strict";function o(e,t){e=e.toLowerCase(),a[e]||(a[e]=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(25),i=n(44);t.addDoodadClass=o;var a=Object.create(null),s=function(){function e(e){this._state=e;for(var t in i){var n=i[t];"string"==typeof n.doodadName&&o(n.doodadName,n)}for(var s in a)this._state.customDoodadsSpriteArrays[s]||(this._state.customDoodadsSpriteArrays[s]=r.makeSpriteArray(e,a[s]))}return Object.defineProperty(e.prototype,"state",{get:function(){return this.state},enumerable:!0,configurable:!0}),e.prototype.create=function(e,t,n,o){for(var r=[],i=4;i<arguments.length;i++)r[i-4]=arguments[i];return(a=this._state.customDoodadsSpriteArrays[e.toLowerCase()]).create.apply(a,[this._state.genericGroups[t],n,o].concat(r));var a},e}();t.DoodadLayoutCreator=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=n(6),i=n(36),a=n(1);!function(e){e.orderGame={onCreateLevel:[],onLoadGame:[]},e.equationGame={onCreateLevel:[],onLoadGame:[]},e.onSettings=[],e.doodadLayouts=Object.create(null)}(o=t.GameCreator||(t.GameCreator={})),t.currentDoodadLayouts=new Array;var s,u,c,p=!1;r.events.onLoad.add(function(e){if(s=new i.SettingsCreator(e),!p){for(var t=0;t<o.onSettings.length;t++){var n=o.onSettings[t];n(s)}p=!0}if("equation"===e.currentGameType)for(var t=0;t<o.equationGame.onLoadGame.length;t++){var n=o.equationGame.onLoadGame[t];n(s)}else if("order"===e.currentGameType)for(var t=0;t<o.orderGame.onLoadGame.length;t++){var n=o.orderGame.onLoadGame[t];n(s)}}),r.events.onCreate.add(function(e){if(c=new i.DoodadLayoutCreator(e),u=new i.LevelCreator(e.level,e),"equation"===e.currentGameType?o.equationGame.onCreateLevel[e.level](u):"order"===e.currentGameType&&o.orderGame.onCreateLevel[e.level](u),!a.stringArrayCompare(e.usedDoodadLayout,t.currentDoodadLayouts)){e.clearDoodads();for(var n=0,r=t.currentDoodadLayouts;n<r.length;n++){var s=r[n];o.doodadLayouts[s](c)}}e.usedDoodadLayout=a.cloneArray(t.currentDoodadLayouts),e.dropAreaObjects.sort(function(e,t){return e.x-t.x})})},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(0),a=n(1),s={tint:16777215,alpha:1,scale:{x:1,y:1}};t.numberOverlapLayer="NumberLayer";var u=function(e){function t(t,n,o,a,s){void 0===s&&(s=r.textStyleConfig);var u=e.call(this,t,n,o,a.toString(),s)||this;return u.numberComponent=u.addComponent(i.NumberComponent,a),u.numberComponent.events.onNumberChange.add(u.onNumberChange,u),u.anchor.set(.5),u.onNumberChange(a,!1,!1),u}return o(t,e),Object.defineProperty(t.prototype,"numberValue",{get:function(){return this.numberComponent.numberRepresenting},set:function(e){this.numberComponent.numberRepresenting=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isX",{get:function(){return this.numberComponent.isX},set:function(e){this.numberComponent.isX=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"divisionStyling",{get:function(){return this.numberComponent.divisionStyling},set:function(e){this.numberComponent.divisionStyling=e},enumerable:!0,configurable:!0}),t.prototype.restNumberObject=function(e,t,n){this.position.set(e,t),this.numberComponent.numberRepresenting=n,this.exists=!0},t.prototype.resetSprite=function(e,t,n,o){void 0===o&&(o=r.textStyleConfig);var i=s.alpha,a=s.scale,u=s.tint;return this.restNumberObject(e,t,n),this.setStyle(o),this.exists=!0,this.tint=u,this.alpha=i,this.scale.set(a.x,a.y),this},t.prototype.onNumberChange=function(e,t,n){this.text=a.MathDAD.numberToString(e,t,n)},t}(i.ComponentAbleText);t.NumberObject=u},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(9),s={tint:16777215,alpha:1,scale:{x:1,y:1}};t.dropAreaOverlapLayer="DropSquareLayer";var u=function(e){function n(n,o,r,a){void 0===a&&(a="dropSquare");var s=e.call(this,n,o,r,a)||this;return s._isFixed=!1,s.dropAreaIndex=-1,s.anchor.set(.5,.5),s.scale.setTo(.5,.5),s.dropArea=s.addComponent(i.DropAreaComponent,t.dropAreaOverlapLayer),s._litUp=s.addComponent(i.NewLitUpComponent,"dropSquareLit","dropSquare"),s.dropArea.events.onObjectStatusChange.add(s._eventOnObjectStatusChange,s),s._ownedByComponent=s.addComponent(i.MathOwnedByComponent),s}return o(n,e),Object.defineProperty(n.prototype,"ownedBy",{get:function(){return this._ownedByComponent.ownedBy},set:function(e){this._ownedByComponent.ownedBy=e},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"full",{get:function(){return this.dropArea.getObjectInAreaStatus===i.ObjectInAreaStatusEnum.inArea},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isFixed",{get:function(){return this._isFixed},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"objectInArea",{get:function(){return this.dropArea.getObjectInArea},enumerable:!0,configurable:!0}),n.prototype.addObjectFixed=function(e){var t=e.getComponent(i.DADHomeComponent);t&&t.SetDragAble(!1),e.position.copyFrom(this.position),this._isFixed=!0,this.dropArea.SetObjectInArea(e,i.ObjectInAreaStatusEnum.inArea)},n.prototype.resetSprite=function(e,t){var n=s.alpha,o=s.scale,r=s.tint;return this.alpha=n,this.scale.set(o.x,o.y),this.tint=r,this.position.set(e,t),this.dropArea.SetObjectInArea(null,i.ObjectInAreaStatusEnum.noObject),this},n.prototype.dragAbleInArea=function(){var e=this.objectInArea;return!(!e||!e.getComponent(i.DragAndDropComponent))},n.prototype._eventOnObjectStatusChange=function(e,t,n){t===i.ObjectInAreaStatusEnum.reservedArea?this._litUp.LitUp():this._litUp.LitDown()},n._loadAssets=function(e){e.load.image("dropSquare","images/DropSquare.png"),e.load.image("dropSquareLit","images/DropSquareLit.png")},n}(i.ComponentAbleSprite);r([a.assetLoadMethod(a.StateEnum.Main,"dropArea")],u,"_loadAssets",null),t.DropAreaObject=u},function(e,t,n){"use strict";function o(e){return function(t){r.addDoodadClass(e,t)}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(19);t.registerDoodad=o},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);o(n(81)),o(n(44)),o(n(15)),r.defineRequire("code/GameObject",this)},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(106)),o(n(108)),o(n(111)),o(n(110))},function(e,t,n){"use strict";function o(e){t.loseObjectAppearAnimationFunc=e||r}function r(e,t){var n=t.objectsInDropAreas,o=t.parenthesisPairs,r=new i.CallbackCounter(n.length+o.length,e);n.forEach(function(e){a.game.add.tween(e).to({alpha:1},1e3,Phaser.Easing.Exponential.InOut,!0).onComplete.addOnce(r.CountUp,r)}),o.forEach(function(e){var t=a.game.add.tween(e.parenthesisLeft).to({alpha:1},1e3,Phaser.Easing.Exponential.InOut,!0);t.onComplete.addOnce(r.CountUp,r),t=a.game.add.tween(e.parenthesisRight).to({alpha:1},1e3,Phaser.Easing.Exponential.InOut,!0),t.onComplete.addOnce(r.CountUp,r)})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2);t.setLoseObjectAppearAnimationFunc=o,t.loseObjectAppearAnimationFunc=r},function(e,t,n){"use strict";function o(e,n){t.jsonGlobalObject?h({callback:e,context:n}):b?b.push({callback:e,context:n}):b=[{callback:e,context:n}]}function r(e,t,n){}function i(e){return C.delete(e)}function a(e){f||(f=!0,y=e,l(e,s))}function s(e,n){if(200===e){for("string"==typeof n&&(n=JSON.parse(n)),t.jsonGlobalObject=n;b&&b.length>0;){var o=b.pop();o&&h(o)}window.__Game__DEBUG?n.editorJson.active&&(m(),d(n)):(delete t.jsonGlobalObject.editorJson,p(t.jsonGlobalObject))}}function u(){if(P)return O<=0?void c():void(g<=0?g=setTimeout(c,O):(clearTimeout(g),g=setTimeout(c,O)))}function c(){console.log("json update"),t.jsonGlobalObject=v.get(),p(t.jsonGlobalObject),C.forEach(function(e){return h(e)}),g=0}function p(e){return Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];"object"==typeof n&&null!==n&&p(n)}),Object.freeze(e)}function l(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="json",n.onload=function(){var e=n.status;200===e?t(e,n.response):t(e)},n.send()}function h(e){e.callback.call(e.context,t.jsonGlobalObject)}function m(){var e=document.getElementById("jsonEditorControl");if(e){e.appendChild(document.createTextNode("auto Update:   "));var t=document.createElement("input");t.setAttribute("type","checkbox"),t.checked=P,t.addEventListener("change",function(e){return P=t.checked}),e.appendChild(t),e.appendChild(document.createTextNode("auto update delay:  "));var n=document.createElement("input");n.setAttribute("type","number"),n.setAttribute("value",O.toString()),n.addEventListener("change",function(e){return O=Number(n.value)}),e.appendChild(n);var o=document.createElement("button");o.style.margin="5px",o.appendChild(document.createTextNode("update Json")),o.onclick=c,e.appendChild(o)}}function d(e){var t=document.getElementById("jsonEditor");t&&e.editorJson&&(t.style.height=e.editorJson.height.toString()+"px",delete e.editorJson,v=new JSONEditor(t,{name:"globalSettings",onChange:u,mode:"form",modes:["form","tree","view","code","text"]},e))}Object.defineProperty(t,"__esModule",{value:!0});var f,y,v,b,g,_=n(1),C=new _.MapProxy,O=1e3,P=!0;t.addOnJsonLoad=o,t.addOnJsonUpdate=r,t.removeOnJsonUpdate=i,t.loadJson=a},function(e,t,n){"use strict";function o(e,t){var n=t.position,o=n.x,r=n.y;return e.game.add.tween(e).to({x:o,y:r},333,Phaser.Easing.Exponential.Out)}function r(e,t){return e.game.add.tween(e).to(t,333,Phaser.Easing.Exponential.Out)}function i(e,t){return e.game.add.tween(e).to(t,333,Phaser.Easing.Exponential.Out)}function a(e){t.switchHomePointTween=e||r}function s(e){t.dropInAreaTween=e||o}function u(e){t.goHomeTween=e||i}Object.defineProperty(t,"__esModule",{value:!0}),t.switchHomePointTween=r,t.setSwitchHomePointTween=a,t.dropInAreaTween=o,t.setDropInAreaTween=s,t.goHomeTween=i,t.setGoHomeTween=u},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(24),a=n(25),s=n(27),u=n(9);n(37),n(8);var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._level=0,t._firstCreateCalled=!1,t._debugKeySet=!1,t.currentGameType="order",t.genericGroups=new Array(6),t.secondStageStartDropArea=null,t.usedDoodadLayout=[],t.customDoodadsSpriteArrays=Object.create(null),t}return o(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),t.prototype.init=function(e,t){var n=this;e&&(this.level=e),this._firstCreateCalled=!1,this.usedDoodadLayout.length=0,t&&(this.currentGameType=t),this.input.onDown.add(function(){!n.scale.isFullScreen&&s.jsonGlobalObject.fullScreen&&n.scale.startFullScreen(!0,!0)}),window.__Game__DEBUG&&(this.input.keyboard.addKey(Phaser.Keyboard.R).onDown.add(function(){n.game.state.restart(!0)},this),this.input.keyboard.addKey(Phaser.Keyboard.ZERO).onDown.add(function(){n._level=0},this),this.input.keyboard.addKey(Phaser.Keyboard.ONE).onDown.add(function(){n._level=1},this),this.input.keyboard.addKey(Phaser.Keyboard.TWO).onDown.add(function(){n._level=2},this),this.input.keyboard.addKey(Phaser.Keyboard.THREE).onDown.add(function(){n._level=3},this),this.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR).onDown.add(function(){n._level<39&&(n.softCutNextLevel(),console.log("Skipped to level: "+(n._level+1)))},this),this.input.keyboard.addKey(Phaser.Keyboard.BACKSPACE).onDown.add(function(){n._level>0&&(n.softCutNextLevel(-1),console.log("Returned to level: "+(n._level+1)))},this),this.input.keyboard.addKey(Phaser.Keyboard.L).onDown.add(function(){n.state.start("levelSelect")}),this._debugKeySet=!0)},t.prototype.clearSpriteArrays=function(e){if(void 0===e&&(e=!0),e)for(var t in this.customDoodadsSpriteArrays)this.customDoodadsSpriteArrays[t].length=0;this.dropAreaObjects.length=0,this.intermittedNumberObjects.length=0,this.fixedNumberObjects.length=0,this.dragAbleNumberObjects.length=0,this.fixedSymbolObjects.length=0,this.dragAbleSymbolObjects.length=0,this.winSymbolObjects.length=0,this.rootSymbolObjects.length=0,this.exponentiationSymbolObjects.length=0,this.parenthesisPairObjects.length=0,this.compositeObjects.length=0,this.compositeSpawnObject.length=0,this.spawnerCompositeObjects.length=0},t.prototype.preload=function(){this.load.baseURL="./assets/",u.loadMainSceneAsset(u.StateEnum.Main),r.runOnLoad(this)},t.prototype.create=function(){if(!this._firstCreateCalled){for(var e=0;e<this.genericGroups.length;e++)this.genericGroups[e]=this.add.group();this.dropSquareGroup=this.add.group(),this.winSymbolGroup=this.add.group(),this.symbolObjectGroup=this.add.group(),this.numberObjectGroup=this.add.group(),this.compositeGroup=this.add.group(),this.dropAreaObjects=a.makeSpriteArray(this,i.DropAreaObject,this.dropSquareGroup),this.intermittedNumberObjects=a.makeSpriteArray(this,i.TemporaryNumberObject,this.numberObjectGroup),this.fixedNumberObjects=a.makeSpriteArray(this,i.NumberObject,this.numberObjectGroup),this.dragAbleNumberObjects=a.makeSpriteArray(this,i.DragAbleNumberObject,this.numberObjectGroup),this.fixedSymbolObjects=a.makeSpriteArray(this,i.SymbolObject,this.symbolObjectGroup),this.dragAbleSymbolObjects=a.makeSpriteArray(this,i.DragAbleSymbolObject,this.symbolObjectGroup),this.winSymbolObjects=a.makeSpriteArray(this,i.WinSymbolObject,this.winSymbolGroup),this.rootSymbolObjects=a.makeSpriteArray(this,i.RootObject,this.symbolObjectGroup),this.exponentiationSymbolObjects=a.makeSpriteArray(this,i.ExponentiationObject,this.symbolObjectGroup),this.parenthesisPairObjects=i.makeParenthesisPairArray(this.symbolObjectGroup),this.compositeObjects=a.makeSpriteArray(this,i.CompositeObject,this.compositeGroup),this.compositeObjects.defaultCreateArgs=[0,0,"+",-1,this.symbolObjectGroup,this.numberObjectGroup],this.compositeSpawnObject=a.makeSpriteArray(this,i.SpawnCompositeObject,this.compositeGroup),this.compositeSpawnObject.defaultCreateArgs=[0,0,"+",-1,this.symbolObjectGroup,this.numberObjectGroup],this.spawnerCompositeObjects=a.makeSpriteArray(this,i.CompositeSpawner,this.numberObjectGroup),this.spawnerCompositeObjects.defaultCreateArgs=[0,0,"+",-1,this.compositeSpawnObject],this.intermittedSymbolsObjects=a.makeSpriteArray(this,i.SymbolObject,this.symbolObjectGroup),this.physics.startSystem(Phaser.Physics.ARCADE),this._firstCreateCalled=!0}r.runOnCreate(this),this.dropAreaObjects.sort(function(e,t){return e.x-t.x});for(var e=0;e<this.dropAreaObjects.length;e++){this.dropAreaObjects[e].dropAreaIndex=e}},t.prototype.update=function(){r.runOnUpdate(this)},t.prototype.render=function(){r.runOnRender(this)},t.prototype.shutdown=function(){this.clearSpriteArrays(),this.winSymbolGroup.removeAll(!0),this.numberObjectGroup.removeAll(!0),this.symbolObjectGroup.removeAll(!0);for(var e=0,t=this.genericGroups;e<t.length;e++){t[e].removeAll(!0)}this.dropSquareGroup.removeAll(!0),this.compositeGroup.removeAll(!0),r.runOnShutdown(this)},t.prototype.hardCutNextLevel=function(){this._level+=1,this.game.state.restart(!0)},t.prototype.softCutNextLevel=function(e){void 0===e&&(e=1),this._level+=e,this.clearSpriteArrays(!1),this.winSymbolGroup.removeAll(!0),this.numberObjectGroup.removeAll(!0),this.symbolObjectGroup.removeAll(!0),this.dropSquareGroup.removeAll(!0),this.compositeGroup.removeAll(!0),r.runOnShutdown(this),this.create()},t.prototype.clearDoodads=function(){for(var e in this.customDoodadsSpriteArrays)this.customDoodadsSpriteArrays[e].length=0;for(var t=0,n=this.genericGroups;t<n.length;t++){n[t].removeAll(!0)}},t}(Phaser.State);t.MainState=c},function(e,t,n){"use strict";function o(e,t,n){var o=Array();for(var r in a.fonts)o.push(a.fonts[r]);window.WebFontConfig={active:function(){e.time.events.add(Phaser.Timer.SECOND,t,n)},google:{families:o}}}function r(e,t){var n=document.createElement("script");n.setAttribute("src",e),n.onload=t,document.body.appendChild(n)}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),s=n(27),u=function(e){function t(t){var n=e.call(this)||this;return n.nextStage=t,n._jsonLoaded=!1,n._fontLoaded=!1,n}return i(t,e),t.prototype.preload=function(){o(this.game,this.onFontLoaded,this),this.game.load.script("webfont","//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"),this.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.pageAlignHorizontally=!0,r("htmlSites/test.js"),s.loadJson("json/global.json"),s.addOnJsonLoad(this.onJsonLoaded,this)},t.prototype.onFontLoaded=function(){this._fontLoaded=!0,this._jsonLoaded&&(window.DebugLevelSkip&&window.DebugLevelSkip.skipLevel?this.state.start("main",void 0,void 0,window.DebugLevelSkip.levelIndex,window.DebugLevelSkip.gameMode):this.state.start(this.nextStage))},t.prototype.onJsonLoaded=function(){this._jsonLoaded=!0,this._fontLoaded&&this.state.start(this.nextStage)},t}(Phaser.State);t.PreloadState=u},function(e,t,n){"use strict";function o(e){if(u.has(e))return u.get(e);var t=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=e.apply(this,t)||this;return o._startQueue=new Array,o._updateArray=new Array,o._phaserComponents={},o.events.onUpdate=new Phaser.Signal,o.events.onDestroy.addOnce(o.onComponentAbleDestroy,o),o}return i(t,e),t.prototype.addComponent=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i;if(a.isArray(e)){i=t;for(var s=0,u=e;s<u.length;s++){var c=u[s];this._phaserComponents[c]?this._phaserComponents[c].push(i):this._phaserComponents[c]=[i]}}else if(a.isString(e))i=t,this._phaserComponents[e]?this._phaserComponents[e].push(i):this._phaserComponents[e]=[i];else{n.unshift(t),i=new(e.bind.apply(e,[void 0,this].concat(n)));for(var p=r(e),l=0,h=p;l<h.length;l++){var m=h[l];this._phaserComponents[m]?this._phaserComponents[m].push(i):this._phaserComponents[m]=[i]}}return this._startQueue.push(i),this._updateArray.push(i),i},t.prototype.createStateComponent=function(e){var t;if(a.isArray(e)){t=new s.StateComponentClass(this);for(var n=0,o=e;n<o.length;n++){var i=o[n];this._phaserComponents[i]?this._phaserComponents[i].push(t):this._phaserComponents[i]=[t]}}else if(a.isString(e))t=new s.StateComponentClass(this),this._phaserComponents[e]?this._phaserComponents[e].push(t):this._phaserComponents[e]=[t];else{t=new s.StateComponentClass(this);for(var u=r(e),c=0,p=u;c<p.length;c++){var l=p[c];this._phaserComponents[l]?this._phaserComponents[l].push(t):this._phaserComponents[l]=[t]}}return this._updateArray.push(t),t},t.prototype.getAllComponent=function(e){if("string"==typeof e){if(this._phaserComponents[e])for(var t=this._phaserComponents[e],n=Array(t.length),o=n.length;o--;)t[o]instanceof s.StateComponentClass?n[o]=t[o].currentComponent:n[o]=t[o]}else if(this._phaserComponents[e.componentName])for(var t=this._phaserComponents[e.componentName],n=Array(t.length),o=n.length;o--;)t[o]instanceof s.StateComponentClass?n[o]=t[o].currentComponent:n[o]=t[o];return!1},t.prototype.changeComponentState=function(e,t){if("string"==typeof e){var n=this._phaserComponents[e];if(n&&n.length>0){var o=n[0];if(o instanceof s.StateComponentClass)return o.SetState(t)}}else{var n=this._phaserComponents[e.componentName];if(n&&n.length>0){var o=n[0];if(o instanceof s.StateComponentClass)return o.SetState(t)}}return!1},t.prototype.getComponent=function(e){if("string"==typeof e){var t=this._phaserComponents[e];if(t&&t.length>0){var n=t[0];return n instanceof s.StateComponentClass?n.currentComponent:n}}else{var t=this._phaserComponents[e.componentName];if(t&&t.length>0){var n=t[0];return n instanceof s.StateComponentClass?n.currentComponent:n}}return!1},t.prototype.update=function(){this._startQueue.forEach(function(e){e.start&&e.start()}),this._startQueue.length=0,this._updateArray.forEach(function(e){e.update&&e.update()}),this.events.onUpdate.dispatch(),e.prototype.update.call(this)},t.prototype.onComponentAbleDestroy=function(){this._updateArray.forEach(function(e){e.onRemove&&e.onRemove()}),this._updateArray.length=0,this._startQueue.length=0,delete this._updateArray,delete this._startQueue;for(var e in this._phaserComponents)this._phaserComponents[e].length=0;delete this._phaserComponents},t}(e);return u.set(e,t),t}function r(e){for(var t=[e],n=[e],o=[],r=n.pop();r;r=n.pop())if(a.exitsInArray(o,r.componentName)||o.push(r.componentName),void 0!==r.inheritedComponentNames)for(var i=0,s=r.inheritedComponentNames;i<s.length;i++){var u=s[i];a.exitsInArray(t,u)||(t.push(u),n.push(u))}return o}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),s=n(33),u=new a.MapProxy;t.makeComponentAbleSprite=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.sprite=e}return e}();t.PhaserSpriteBehavior=o},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(32),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._phaserComponents={},t._components=[],t._startQueue=[],t}return o(t,e),Object.defineProperty(t.prototype,"currentComponent",{get:function(){return this._currentComponent},enumerable:!0,configurable:!0}),t.prototype.addComponent=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var i,a;return r.isString(e)?(a=e,this._phaserComponents[e]=t):(a=e.componentName,i=new(e.bind.apply(e,[void 0,this.sprite].concat(n))),this._phaserComponents[e.componentName]=i),this._startQueue.push(i),this._components.push(i),this._currentComponent&&(this._currentState=a,this._currentComponent=i),i},t.prototype.getAllComponent=function(){return this._components.slice(0)},t.prototype.SetState=function(e){var t,n=this;t=r.isString(e)?e:e.componentName;var o=this._phaserComponents[t];return!!o&&(this._components.forEach(function(e){e.OnComponetStateChange&&e.OnComponetStateChange(n._currentState,t)}),this._currentState=t,this._currentComponent=o,o)},t.prototype.forEach=function(e,t){this._components.forEach(e,t)},t.prototype.update=function(){this._startQueue.forEach(function(e){e.start&&e.start()}),this._components.forEach(function(e){e.update&&e.update()}),this._startQueue.length=0},t}(i.PhaserSpriteBehavior);t.StateComponentClass=a},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(7)),o(n(54)),o(n(56)),o(n(57)),o(n(55)),o(n(52))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.objectInArea=null,t.objectInAreaStatus=a.noObject,t.events={onNoObjectInArea:new Phaser.Signal,onAreaReserved:new Phaser.Signal,onObjectMovingTowardsArea:new Phaser.Signal,onObjectInArea:new Phaser.Signal,onObjectStatusChange:new Phaser.Signal},t}return o(t,e),Object.defineProperty(t.prototype,"getObjectInArea",{get:function(){return this.objectInArea},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getObjectInAreaStatus",{get:function(){return this.objectInAreaStatus},enumerable:!0,configurable:!0}),t.prototype.SetObjectInArea=function(e,t){if(null!==this.objectInArea&&this.objectInArea!==e&&t!==a.noObject)return!1;var n=this.objectInAreaStatus;switch(t){case a.noObject:this.objectInArea=null,this.objectInAreaStatus=t,this.events.onNoObjectInArea.dispatch();break;case a.reservedArea:this.objectInArea=e,this.objectInAreaStatus=t,this.events.onAreaReserved.dispatch(e);break;case a.movingTowardsArea:this.objectInArea=e,this.objectInAreaStatus=t,this.events.onObjectMovingTowardsArea.dispatch(e);break;case a.inArea:this.objectInArea=e,this.objectInAreaStatus=t,this.events.onObjectInArea.dispatch(e)}return this.events.onObjectStatusChange.dispatch(e,this.objectInAreaStatus,n),!0},t}(r.RectangleOverlapComponent);i.componentName="dropAreaComponent",t.DropAreaComponent=i;var a;!function(e){e[e.noObject=0]="noObject",e[e.reservedArea=1]="reservedArea",e[e.movingTowardsArea=2]="movingTowardsArea",e[e.inArea=3]="inArea"}(a=t.ObjectInAreaStatusEnum||(t.ObjectInAreaStatusEnum={}))},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(19)),o(n(70)),o(n(71))},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);o(n(36)),o(n(20)),r.defineRequire("code/GameCreator",this)},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(72)),o(n(21)),o(n(73))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),a=function(e){function t(t,n,o,r){var a=e.call(this,t,n,o,r,i.textStyleConfig)||this;return a.anchor.setTo(.5),a.fontSize=80,a}return o(t,e),t}(r.ComponentAbleText);t.Parenthesis=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(39),r=n(2),i=function(){function e(e,t,n,i){this.startBeforeDropArea=e,this.endAfterDropArea=t,this.executionPriority=n,this.defaultGroup=i,this._parenthesisLeft=new o.Parenthesis(r.game,0,0,"("),i.add(this._parenthesisLeft),this._parenthesisRight=new o.Parenthesis(r.game,0,0,")"),i.add(this._parenthesisRight)}return Object.defineProperty(e.prototype,"parenthesisRight",{get:function(){return this._parenthesisRight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parenthesisLeft",{get:function(){return this._parenthesisLeft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startIndex",{get:function(){return this.startBeforeDropArea.dropAreaIndex},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endIndex",{get:function(){return this.endAfterDropArea.dropAreaIndex},enumerable:!0,configurable:!0}),e}();t.ParenthesisPair=i},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(79)),o(n(42)),o(n(77))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),a=n(1),s={tint:16777215,alpha:1,scale:{x:1,y:1}},u=function(e){function t(t,n,o,a,s){void 0===s&&(s={});var u=e.call(this,t,n,o,a,s.style||i.textStyleConfig)||this;return u._symbolStateComponent=u.createStateComponent(r.SymbolComponent),u._symbolStateComponent.addComponent(r.AdditionComponent),u._symbolStateComponent.addComponent(r.SubtractionComponent),u._symbolStateComponent.addComponent(r.MultiplicationComponent),u._symbolStateComponent.addComponent(r.DivisionComponent),u.changeSymbol(a),u.anchor.set(.5),u}return o(t,e),Object.defineProperty(t.prototype,"symbolComponent",{get:function(){return this._symbolStateComponent.currentComponent},enumerable:!0,configurable:!0}),t.prototype.resetSprite=function(e,t,n,o){void 0===o&&(o={});var r=s.alpha,a=s.scale,u=s.tint;return this.position.set(e,t),this.changeSymbol(n),this.setStyle(o.style||i.textStyleConfig),this.alpha=r,this.tint=u,this.scale.set(a.x,a.y),this},t.prototype.changeSymbol=function(e){switch(this.text=a.MathDAD.symbolTextToString(e),e){case"+":this._symbolStateComponent.SetState(r.AdditionComponent);break;case"-":this._symbolStateComponent.SetState(r.SubtractionComponent);break;case"*":this._symbolStateComponent.SetState(r.MultiplicationComponent);break;case"/":this._symbolStateComponent.SetState(r.DivisionComponent);break;default:console.warn("symbolObject got "+e+" which is not a one of the recognized symbol")}},t}(r.ComponentAbleText);t.SymbolObject=u},function(e,t,n){"use strict";function o(e,t,n,o,r){var i=new u.NumberObject(e,t,n,o);return r.add(i),i}function r(e,t,n,o,r){var i=new c.SymbolObject(e,t,n,o);return r.add(i),i}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(1),u=n(38),c=n(41),p=n(4),l=function(e){function t(t,n,i,s,u,c,l){var h=e.call(this,t,n,i,"",p.textStyleConfig)||this,m=o(t,n,i,u,l),d=r(t,n,i,s,c);return h._compositeComponent=h.addComponent(a.CompositeComponent,s,d,u,m),h._compositeComponent.events.onSymbolTextNumberChange.add(h.onNumberSymbolValueChange,h),h.onNumberSymbolValueChange(s,u),h._resetComponent=h.addComponent(a.ResetAbleComponent),h.anchor.setTo(.5),h}return i(t,e),Object.defineProperty(t.prototype,"resetComponent",{get:function(){return this.resetComponent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"compositeComponent",{get:function(){return this._compositeComponent},enumerable:!0,configurable:!0}),t.prototype.split=function(){return this._compositeComponent.split()},t.prototype.onNumberSymbolValueChange=function(e,t){this.text=s.MathDAD.symbolTextToString(e)+" "+s.MathDAD.numberToString(t,!1)},t}(a.ComponentAbleText);t.CompositeObject=l},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(84)),o(n(89)),o(n(85)),o(n(86)),o(n(87)),o(n(90)),o(n(92)),o(n(88)),o(n(91))},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);o(n(95)),o(n(96)),r.defineRequire("code/Containers",this)},function(e,t,n){"use strict";function o(e,t,n){return void 0===n&&(n=.06),e>t-n&&e<t+n}Object.defineProperty(t,"__esModule",{value:!0}),t.closeToNumber=o},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(16)),o(n(114))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(6))},function(e,t,n){"use strict";function o(e,t){function n(){++r<o.length||q.game.time.events.add(20,e)}var o=t.dropAreas;o.forEach(function(e){e.game.add.tween(e).to({alpha:0},1e3,Phaser.Easing.Exponential.Out,!0).onComplete.addOnce(n)});var r=0}function r(e,t){function n(){S.play()}function o(){++p<3||(A.play(),e())}var r=t.currentSymbol,i=t.right,a=t.left,s=r.value,u=s.x,c=s.y,p=0;if(h(r.value.symbolComponent)){if(this.moveEquation=!1,a){o(),o();var l=q.game.add.tween(r.value.position).to({x:a.value.position.x,y:a.value.position.y},300,Phaser.Easing.Cubic.apply,!1,0);q.game.add.tween(r.value).to({alpha:0},200,Phaser.Easing.Cubic.In,!0);var d=(q.game.add.tween(a.value.position).to({x:a.value.position.x,y:a.value.position.y-a.value.height/4},250,Phaser.Easing.Exponential.In,!1,0),q.game.add.tween(a.value).to({alpha:0},300,Phaser.Easing.Cubic.In,!0,200));d.onComplete.addOnce(o),l.chain(d),l.start()}}else if(m(r.value.symbolComponent)){if(this.moveEquation=!0,this.moveEquationMod=.35,i){var f=i.value.x-r.value.x;q.game.add.tween(r.value.position).to({x:r.value.x+f/2},250,Phaser.Easing.Cubic.apply,!0,200).onComplete.addOnce(o),q.game.add.tween(i.value.position).to({x:i.value.position.x-f/2},250,Phaser.Easing.Exponential.In,!0,200).onComplete.addOnce(o),q.game.add.tween(r.value).to({alpha:0},250,Phaser.Easing.Cubic.In,!0,200),q.game.add.tween(i.value).to({alpha:0},250,Phaser.Easing.Cubic.In,!0,200);o()}}else this.moveEquation=!0,this.moveEquationMod=.75,q.game.add.tween(r.value).to({alpha:0},400,Phaser.Easing.Circular.In,!0,820).onComplete.addOnce(o),i?q.game.add.tween(i.value.scale).to({x:1.5,y:1.5},250,Phaser.Easing.Cubic.apply,!0,0).yoyo(!0).onComplete.addOnce(o):p++,a?q.game.add.tween(a.value.scale).to({x:1.5,y:1.5},250,Phaser.Easing.Cubic.apply,!0,0).yoyo(!0).onComplete.addOnce(o):p++,i&&q.game.add.tween(i.value).to({alpha:0},400,Phaser.Easing.Cubic.In,!0,420),a&&q.game.add.tween(a.value).to({alpha:0},400,Phaser.Easing.Cubic.In,!0,420),i&&q.game.add.tween(i.value).to({x:u,y:c},300,Phaser.Easing.Cubic.In,!0,520).onStart.addOnce(n),a&&q.game.add.tween(a.value).to({x:u,y:c},300,Phaser.Easing.Cubic.In,!0,520)}function i(e,t){function n(){++s<t.otherNumberValues.length+t.otherSymbolValues.length||o()}function o(){q.game.time.events.add(1200,e)}var r=this,i=t.newNumber,a=t.dropAreas,s=(i.index,0),u=t.newNumber.value.position.x;i.value.alpha=0,q.game.add.tween(i.value).to({alpha:1},300,Phaser.Easing.Default,!0),q.game.add.tween(i.value.scale).to({x:1.5,y:1.5},350,Phaser.Easing.Circular.In,!0,0,void 0,!0),!0===this.moveEquation?(void 0!==V&&(V.parenthesisLeft.position.x<u?q.game.add.tween(V.parenthesisLeft.position).to({x:V.parenthesisLeft.position.x+a[0].width*this.moveEquationMod},500,Phaser.Easing.Cubic.In,!0):V.parenthesisLeft.position.x>u&&q.game.add.tween(V.parenthesisLeft.position).to({x:V.parenthesisLeft.position.x-a[0].width*this.moveEquationMod},500,Phaser.Easing.Cubic.In,!0),V.parenthesisRight.position.x<u?q.game.add.tween(V.parenthesisRight.position).to({x:V.parenthesisRight.position.x+a[0].width*this.moveEquationMod},500,Phaser.Easing.Cubic.In,!0):V.parenthesisRight.position.x>u&&q.game.add.tween(V.parenthesisRight.position).to({x:V.parenthesisRight.position.x-a[0].width*this.moveEquationMod},500,Phaser.Easing.Cubic.In,!0)),void 0!==W&&(W.parenthesisLeft.position.x<u?q.game.add.tween(W.parenthesisLeft.position).to({x:W.parenthesisLeft.position.x+a[0].width*this.moveEquationMod},500,Phaser.Easing.Cubic.In,!0):W.parenthesisLeft.position.x>u&&q.game.add.tween(W.parenthesisLeft.position).to({x:W.parenthesisLeft.position.x-a[0].width*this.moveEquationMod},500,Phaser.Easing.Cubic.In,!0),W.parenthesisRight.position.x<u?q.game.add.tween(W.parenthesisRight.position).to({x:W.parenthesisRight.position.x+a[0].width*this.moveEquationMod},500,Phaser.Easing.Cubic.In,!0):W.parenthesisRight.position.x>u&&q.game.add.tween(W.parenthesisRight.position).to({x:W.parenthesisRight.position.x-a[0].width*this.moveEquationMod},500,Phaser.Easing.Cubic.In,!0)),t.otherNumberValues.forEach(function(e){e&&(e.value.position.x>u?q.game.add.tween(e.value.position).to({x:e.value.position.x-t.dropAreas[0].width*r.moveEquationMod},500,Phaser.Easing.Cubic.In,!0):e.value.position.x<u&&q.game.add.tween(e.value.position).to({x:e.value.position.x+t.dropAreas[0].width*r.moveEquationMod},500,Phaser.Easing.Cubic.In,!0)),n()}),t.otherSymbolValues.forEach(function(e){e&&(e.value.position.x>u?q.game.add.tween(e.value.position).to({x:e.value.position.x-t.dropAreas[0].width*r.moveEquationMod},500,Phaser.Easing.Cubic.In,!0):e.value.position.x<u&&q.game.add.tween(e.value.position).to({x:e.value.position.x+t.dropAreas[0].width*r.moveEquationMod},500,Phaser.Easing.Cubic.In,!0)),n()}),this.moveEquationMod=1):(this.moveEquation=!0,this.moveEquationMod=1,q.game.time.events.add(700,o))}function a(e,t){function n(){var e=new U.CallbackCounter(2,o),t=q.game.add.tween(a).to(u,600,Phaser.Easing.Exponential.In),n=q.game.add.tween(i.value).to({alpha:0},400);t.start().onComplete.addOnce(e.CountUp,e),n.start().onComplete.addOnce(e.CountUp,e)}function o(){var e=new U.CallbackCounter(s.length+1,r);i.value.tint=c,e.CountUp(),s.forEach(function(t){if(t.objectInArea&&t.objectInArea.getComponent(K.DragAndDropComponent)){t.game.add.tween(t).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0).onComplete.addOnce(e.CountUp,e)}else e.CountUp()})}function r(){C.scratch(),q.game.time.events.add(300,e)}var i=t.newNumber,a=t.winSymbol,s=t.dropAreas;V&&(V.parenthesisLeft.position.set(te[0],V.parenthesisRight.position.y),V.parenthesisRight.position.set(te[1],V.parenthesisLeft.position.y)),W&&(W.parenthesisLeft.position.set(ne[0],W.parenthesisRight.position.y),W.parenthesisRight.position.set(ne[1],W.parenthesisLeft.position.y));var u=a.position.clone(),c=(a.tint,i.value.tint),p=q.game.world.centerX,l=q.game.add.tween(i.value).to({x:p-i.value.width/2},600,Phaser.Easing.Elastic.Out),h=q.game.add.tween(a.position).to({x:p+i.value.width/2+60},600,Phaser.Easing.Exponential.In);h.onComplete.addOnce(n),l.chain(h).start()}function s(e,t){function n(){++s<t.otherNumberValues.length+t.otherSymbolValues.length+2||o()}function o(){q.game.time.events.add(1200,e)}var r=t.newNumber,i=t.dropAreas,a=(t.currentParenthesisPair,t.otherParenthesisPair),s=(r.index,0);t.newNumber.value.position.x;if(t.currentParenthesisPair){var u=t.currentParenthesisPair,c=u.parenthesisLeft,p=u.parenthesisRight;new U.CallbackCounter(2,e);q.game.add.tween(c).to({alpha:0},333,Phaser.Easing.Exponential.In).start().onComplete.addOnce(n),q.game.add.tween(p).to({alpha:0},333,Phaser.Easing.Exponential.In).start().onComplete.addOnce(n),!0===this.moveEquation&&(a.length>0&&(W.parenthesisLeft.position.x<V.parenthesisLeft.position.x?(q.game.add.tween(W.parenthesisLeft.position).to({x:W.parenthesisLeft.position.x+i[0].width/1.5},500,Phaser.Easing.Cubic.In,!0),q.game.add.tween(W.parenthesisRight.position).to({x:W.parenthesisRight.position.x-i[0].width/1.5},500,Phaser.Easing.Cubic.In,!0)):(q.game.add.tween(W.parenthesisLeft.position).to({x:W.parenthesisLeft.position.x-i[0].width/1.5},500,Phaser.Easing.Cubic.In,!0),q.game.add.tween(W.parenthesisRight.position).to({x:W.parenthesisRight.position.x-i[0].width/1.5},500,Phaser.Easing.Cubic.In,!0))),t.otherNumberValues.forEach(function(e){e&&(e.value.position.x<c.position.x?q.game.add.tween(e.value.position).to({x:e.value.position.x+i[0].width/1.5},500,Phaser.Easing.Cubic.In,!0):e.value.position.x>p.position.x&&q.game.add.tween(e.value.position).to({x:e.value.position.x-i[0].width/1.5},500,Phaser.Easing.Cubic.In,!0)),n()}),t.otherSymbolValues.forEach(function(e){e&&(e.value.position.x<c.position.x?q.game.add.tween(e.value.position).to({x:e.value.position.x+i[0].width/1.5},500,Phaser.Easing.Cubic.In,!0):e.value.position.x>p.position.x&&q.game.add.tween(e.value.position).to({x:e.value.position.x-i[0].width/1.5},500,Phaser.Easing.Cubic.In,!0),n())}))}else this.moveEquation=!0,e()}function u(e,t){return e.game.add.tween(e).to({x:t.position.x,y:t.position.y},333,Phaser.Easing.Elastic.Out)}function c(e,t){function n(){switch($){case 0:case 1:v.growPlant(4,e);break;case 2:case 3:v.growPlant(3,e);break;case 4:v.growPlant(1,e);break;case 5:b.growPlant(2),g.growPlant(3,e);break;case 6:b.growPlant(3,e),g.growPlant(3);break;case 7:b.growPlant(2),g.growPlant(2,e);break;case 8:b.growPlant(2,e),g.growPlant(2);break;case 9:b.growPlant(3),g.growPlant(2,e)}}var o=t.newNumber,r=t.winSymbol,i=q.game.world.centerX,a=q.game.add.tween(o.value).to({x:i-o.value.width/2},600,Phaser.Easing.Elastic.Out),s=q.game.add.tween(r.position).to({x:i+o.value.width/2+60},600,Phaser.Easing.Exponential.In),u=q.game.add.tween(o.value.scale).to({x:2,y:2},600,Phaser.Easing.Exponential.InOut,!1,30).yoyo(!0);u.onComplete.addOnce(n),a.chain(s,u).start(),C.castMagic()}function p(){_.tiltScale(!1)}function l(){_.tiltScale(!0)}function h(e){return e instanceof K.ExponentiationComponent}function m(e){return e instanceof K.RootComponent}function d(e,t,n,o){function r(){A.play()}var i=0,a=0;e&&e.forEach(function(e){var t=e.position.y;e.position.set(e.position.x,Z);e.game.add.tween(e).to({y:t},300,Phaser.Easing.Circular.Out,!0,a).onStart.addOnce(r);a+=400-i,i+=25}),a+=400-i,i+=25,t&&t.forEach(function(e){var t=e.position.x;e.position.set(Q,e.position.y);e.game.add.tween(e).to({x:t},300,Phaser.Easing.Circular.Out,!0,a).onStart.addOnce(r);a+=400-i,i+=25}),a+=400-i,i+=25,n&&n.forEach(function(e){var t=e.position.x;e.position.set(-Q-e.width,e.position.y);e.game.add.tween(e).to({x:t},300,Phaser.Easing.Circular.Out,!0,a).onStart.addOnce(r);a+=400-i,i+=25}),a+=400-i,i+=25,o&&o.forEach(function(e){var t=e.position.y;e.position.set(e.position.x,Z);e.game.add.tween(e).to({y:t},300,Phaser.Easing.Circular.Out,!0,a).onStart.addOnce(r);a+=400-i,i+=25}),Y=!1}function f(e,t,n,o,r,i,a,s){function u(e){return w&&(P=0,w=!1),P+=e}e.state.intermittedNumberObjects.onCreate=i?function(e){return e.scale.multiply(i,i),e}:void 0,$=e.level%10,w=!0;var c,p,l,h,m=100,d=0;ee=[];var f=0;i&&(m*=i),s&&(d+=s),a&&(m=a),t.forEach(function(n){if("+"===n||"-"===n||"*"===n||"/"===n){var o=e.create.dropArea(u(m),120);if(o.addObjectFixed(e.create.fixed.symbol(n)),o.alpha=0,i){o.scale.multiply(i,i);var r=o.objectInArea;r&&r.scale.multiply(i,i)}f++,ee.push(o)}else if("empty"===n){var a=e.create.dropArea(u(m),120);a.alpha=.8,i&&a.scale.multiply(i,i),f++,ee.push(a)}else if("^"===n){var s=85,d=80;i&&(s*=i,d*=i);var o=e.create.dropArea(ee[f-1].position.x+s,120-d);o.alpha=0,e.create.complexSymbol.exponentiation(o,2),o.objectInArea&&(o.objectInArea.scale.multiply(.8,.8),i&&o.objectInArea.scale.multiply(i,i)),f++,ee.push(o)}else if("sqr"===n){var o=e.create.dropArea(u(m),120);e.create.complexSymbol.root(o,2),o.alpha=0,i&&(o.scale.multiply(i,i),o.objectInArea&&o.objectInArea.scale.multiply(i,i)),f++,ee.push(o)}else"("===n.charAt(0)||")"===n.charAt(0)?("("===n.charAt(0)?("1"===n.charAt(1)&&(c=f),"2"===n.charAt(1)&&(l=f)):")"===n.charAt(0)&&("1"===n.charAt(1)&&(p=f-1),"2"===n.charAt(1)&&(h=f-1),"^"===t[f]&&(p--,h--)),u(m/1.5)):console.log("input "+n+" is not valid. Try a symbol: '+, -, *, /,' or 'empty'")}),void 0!==c&&void 0!==p&&(te=[ee[c].position.x-m,ee[p].position.x+m],V=e.create.parenthesisPair(ee[c],ee[p],1),V.parenthesisLeft.position.setTo(te[0],120),V.parenthesisRight.position.setTo(te[1],120),i&&(V.parenthesisLeft.scale.multiply(i,i),V.parenthesisRight.scale.multiply(i,i))),void 0!==l&&void 0!==h&&(ne=[ee[l].position.x-m,ee[h].position.x+m],W=e.create.parenthesisPair(ee[l],ee[h],2),W.parenthesisLeft.position.setTo(ne[0],120),W.parenthesisRight.position.setTo(ne[1],120),i&&(W.parenthesisLeft.scale.multiply(i,i),W.parenthesisRight.scale.multiply(i,i)),c===l&&W.parenthesisLeft.position.setTo(ee[l].position.x-m/1.1,120),p===h&&W.parenthesisRight.position.setTo(ee[h].position.x+m/1.1,120)),function(e,t){var n=100,o=(870-100*t.length)/2;e.forEach(function(e){e.x=o+n,n+=100})}([D,N,k,T,B,R,H],n),n.forEach(function(t){var n=e.create.number(t);i&&n.scale.multiply(i,i)});var y=u(m)+50;y<q.game.world.centerX&&(y=q.game.world.centerX+50);var v=e.create.winCheck(o,r,y,120);i&&v.scale.multiply(i,i)}function y(e,t,n,o){function r(e){return w&&(P=0,w=!1),P+=e}w=!0;var i,a=0,s=!0,u=1,c=1,h=0,m=!0;t.forEach(function(e){m?"="!==e?(c++,"empty"===e&&(c+=.3)):m=!1:h++}),t.forEach(function(n){if(Number(n)){if("X"===t[a+1])u=Number(n);else if("/"===t[a-1]&&"X"===t[a-2])u=Number(n);else{var o=e.create.dropArea(Q/2+r(70)-70*c,100);o.addObjectFixed(e.create.fixed.number(Number(n))),o.alpha=0,Number(n)>10&&r(14)}a++}else if("X"===n){if("/"===t[a+1]){c-=1;var o=e.create.dropArea(Q/2+r(70)-70*c,100),h=e.create.fixed.number(u/Number(t[a+2]));h.isX=!0,h.numberComponent.divisionStyling=!0,o.alpha=0,o.addObjectFixed(h),r(70)}else{u>1&&(c+=.5);var o=e.create.dropArea(Q/2+r(70)-70*c,100),h=e.create.fixed.number(u);o.alpha=0,h.isX=!0,o.addObjectFixed(h)}u>1&&r(35),a++}else if("+"===n||"-"===n||"/"===n||"*"===n){if("/"!==n&&"X"!==t[a]){var o=e.create.dropArea(Q/2+r(70)-70*c,100);o.addObjectFixed(e.create.fixed.symbol(n)),o.alpha=0}a++}else if("="===n){r(105);var m=e.create.winCheck("=",0,0,100);m.position.set(Q/2-m.width/2,100),s=!1,a++,i=e.state.dropAreaObjects.length}else if("empty"===n){var o=e.create.dropArea(Q/2+r(105)-70*c,100);s?(o.dropArea.events.onNoObjectInArea.add(p),o.dropArea.events.onAreaReserved.add(l)):(o.dropArea.events.onNoObjectInArea.add(l),o.dropArea.events.onAreaReserved.add(p)),a++}});var d=100,f=(870-150*n.length)/2;n.forEach(function(t){var n=t.charAt(0);"+"!==n&&"-"!==n&&"/"!==n&&"*"!==n||(e.create.compositeSpawner(n,Number(t.charAt(1)),f+d,500),d+=150)}),console.log(i),e.set.secondStageStartDropArea(e.state.dropAreaObjects[i])}Object.defineProperty(t,"__esModule",{value:!0});var v,b,g,_,C,O,P,w,S,A,j,x,L,E,G,M,I,D,N,k,T,B,R,H,V,W,F=n(37),q=n(2),X=n(115),U=n(1),K=n(0),J=n(28),z=n(47),Q=960,Z=540,Y=!1,$=0,ee=[],te=[],ne=[];Y=!0,F.GameCreator.orderGame.onCreateLevel[0]=function(e){f(e,["empty","+","empty"],[3,2,4,3],">",4)},F.GameCreator.orderGame.onCreateLevel[1]=function(e){f(e,["empty","-","empty"],[7,3,4,9],">",5)},F.GameCreator.orderGame.onCreateLevel[2]=function(e){f(e,["empty","+","empty","-","empty"],[5,4,2,6,3],">",4)},F.GameCreator.orderGame.onCreateLevel[3]=function(e){f(e,["empty","-","empty","+","empty"],[2,3,1,4,1],">",3)},F.GameCreator.orderGame.onCreateLevel[4]=function(e){f(e,["empty","-","empty","+","empty","-","empty"],[3,4,2,3,5,2],">",4)},F.GameCreator.orderGame.onCreateLevel[5]=function(e){f(e,["empty","+","empty","*","empty"],[4,1,2,2,3],">",9)},F.GameCreator.orderGame.onCreateLevel[6]=function(e){f(e,["empty","-","empty","*","empty"],[1,0,4,7,2],">",6)},F.GameCreator.orderGame.onCreateLevel[7]=function(e){f(e,["empty","+","empty","/","empty"],[.5,3,2,1,2],">",7)},F.GameCreator.orderGame.onCreateLevel[8]=function(e){f(e,["empty","-","empty","/","empty"],[8,6,2,9,3],">",5)},F.GameCreator.orderGame.onCreateLevel[9]=function(e){f(e,["empty","/","empty","*","empty"],[1,4,5,2,.5],">",8)},F.GameCreator.orderGame.onCreateLevel[10]=function(e){f(e,["empty","-","empty","/","empty","+","empty"],[1,4,6,3,2,4],">",3)},F.GameCreator.orderGame.onCreateLevel[11]=function(e){f(e,["empty","+","empty","*","empty","+","empty"],[0,2,4,3,1,2],">",15)},F.GameCreator.orderGame.onCreateLevel[12]=function(e){f(e,["empty","/","empty","-","empty","*","empty"],[7,6,.5,3,4,2],">",4)},F.GameCreator.orderGame.onCreateLevel[13]=function(e){f(e,["empty","*","empty","/","empty","*","empty"],[7,8,4,2,3,5],">",12)},F.GameCreator.orderGame.onCreateLevel[14]=function(e){f(e,["empty","-","empty","/","empty","*","empty"],[8,6,4,9,4,2],">",4)},F.GameCreator.orderGame.onCreateLevel[15]=function(e){f(e,["empty","+","empty","*","empty","^"],[3,2,1,3,4],">",20)},F.GameCreator.orderGame.onCreateLevel[16]=function(e){f(e,["empty","-","empty","/","sqr","empty"],[2,4,4,6,2],">",3)},F.GameCreator.orderGame.onCreateLevel[17]=function(e){f(e,["empty","-","empty","^","/","sqr","empty"],[6,4,2,9,1],">",7)},F.GameCreator.orderGame.onCreateLevel[18]=function(e){f(e,["empty","^","-","empty","-","empty","^"],[6,3,2,4,2],">",11)},F.GameCreator.orderGame.onCreateLevel[19]=function(e){f(e,["empty","+","sqr","empty","-","empty"],[6,4,9,3,6],">",6)},F.GameCreator.orderGame.onCreateLevel[20]=function(e){f(e,["empty","-","empty","*","empty","/","empty","^"],[2,1,3,2,4,4],">",1)},F.GameCreator.orderGame.onCreateLevel[21]=function(e){f(e,["empty","^","*","empty","-","empty","*","empty","^"],[3,4,5,4,3,5],">",50)},F.GameCreator.orderGame.onCreateLevel[22]=function(e){f(e,["empty","*","sqr","empty","-","empty","/","empty"],[2,9,4,6,6,3],">",14,.9)},F.GameCreator.orderGame.onCreateLevel[23]=function(e){f(e,["empty","+","empty","-","empty","^","*","empty"],[3,4,0,6,7,2],">",9)},F.GameCreator.orderGame.onCreateLevel[24]=function(e){f(e,["empty","+","sqr","empty","-","empty","*","empty"],[6,4,9,2,4,9],">",3,.9)},F.GameCreator.orderGame.onCreateLevel[25]=function(e){f(e,["empty","*","(1","empty","+","empty",")1"],[0,4,2,2,1],">",8)},F.GameCreator.orderGame.onCreateLevel[26]=function(e){f(e,["(1","empty","+","empty",")1","/","empty"],[4,2,4,6,2],">",4)},F.GameCreator.orderGame.onCreateLevel[27]=function(e){f(e,["(1","empty","+","empty","/","empty",")1"],[4,8,3,2,8],">",6)},F.GameCreator.orderGame.onCreateLevel[28]=function(e){f(e,["(1","empty","-","empty",")1","*","empty"],[3,2,5,2,4],">",10)},F.GameCreator.orderGame.onCreateLevel[29]=function(e){f(e,["empty","/","(1","empty","-","empty",")1"],[8,9,2,3,1],">",2)},F.GameCreator.orderGame.onCreateLevel[30]=function(e){f(e,["empty","^","*","(1","empty","+","empty",")1"],[1,3,2,0,2],">",20)},F.GameCreator.orderGame.onCreateLevel[31]=function(e){f(e,["(1","empty","^","+","empty",")1","/","empty"],[4,2,4,0,2],">",6)},F.GameCreator.orderGame.onCreateLevel[32]=function(e){f(e,["(1","empty","/","empty",")1","*","(2","empty","-","empty",")2"],[6,3,4,8,6,2],">",9,.8)},F.GameCreator.orderGame.onCreateLevel[33]=function(e){f(e,["empty","-","(1","empty","/","empty",")1","*","empty"],[4,6,4,6,3,9],">",2,.9)},F.GameCreator.orderGame.onCreateLevel[34]=function(e){f(e,["(1","empty","-","empty",")1","/","(2","empty","-","empty",")2"],[.5,4,7,5,2,1],">",7,.8)},F.GameCreator.orderGame.onCreateLevel[35]=function(e){f(e,["(1","empty","+","empty","^","/","empty",")1","-","empty"],[4,2,6,5,6,3],">",18,.9)},F.GameCreator.orderGame.onCreateLevel[36]=function(e){f(e,["(1","empty","-","empty",")1","*","(2","empty","-","empty",")2"],[9,4,5,4,6,3],">",10,.75)},F.GameCreator.orderGame.onCreateLevel[37]=function(e){f(e,["(1","empty","+","empty",")1","-","empty","*","empty"],[3,6,2,7,4,5],">",4,.9)},F.GameCreator.orderGame.onCreateLevel[38]=function(e){f(e,["empty","^","/","empty","/","(1","empty","-","empty",")1"],[3,5,2,2,4,6],">",5,.9)},F.GameCreator.orderGame.onCreateLevel[39]=function(e){f(e,["sqr","empty","*","(1","empty","/","empty","^","+","empty",")1"],[9,5,8,7,2,4],">",16,.8)},F.GameCreator.orderGame.onCreateLevel[40]=function(e){f(e,[],[],">",0,.8)},Y=!0,F.GameCreator.equationGame.onCreateLevel[0]=function(e){y(e,["1","X","+","3","empty","=","8","empty"],["-3","+3","-9","+9"])},F.GameCreator.equationGame.onCreateLevel[1]=function(e){y(e,["1","X","+","4","empty","=","7","empty"],["-7","+7","-4","+4"])},F.GameCreator.equationGame.onCreateLevel[2]=function(e){y(e,["1","X","+","8","empty","=","9","empty"],["+8","-8","+9","-9"])},F.GameCreator.equationGame.onCreateLevel[3]=function(e){y(e,["1","X","+","2","empty","=","5","empty"],["+5","-5","+2","-2"])},F.GameCreator.equationGame.onCreateLevel[4]=function(e){y(e,["1","X","+","6","empty","=","4","empty"],["+6","-6","+4","-4"])},F.GameCreator.equationGame.onCreateLevel[5]=function(e){y(e,["1","X","+","7","empty","=","1","empty"],["-1","+1","-7","+7"])},F.GameCreator.equationGame.onCreateLevel[6]=function(e){y(e,["1","X","+","9","empty","=","2","empty"],["-9","+9","-2","+2"])},F.GameCreator.equationGame.onCreateLevel[7]=function(e){y(e,["1","X","+","5","empty","=","6","empty"],["+6","-6","+5","-5"])},F.GameCreator.equationGame.onCreateLevel[8]=function(e){y(e,["1","X","+","3","empty","=","0","empty"],["-0","+0","-3","+3"])},F.GameCreator.equationGame.onCreateLevel[9]=function(e){y(e,["1","X","+","6","empty","=","5","empty"],["+6","-6","+5","-5"])},F.GameCreator.equationGame.onCreateLevel[10]=function(e){y(e,["1","X","-","4","empty","=","7","empty"],["-4","+4","-7","+7"])},F.GameCreator.equationGame.onCreateLevel[11]=function(e){y(e,["1","X","-","2","empty","=","8","empty"],["+2","-2","+8","-8"])},F.GameCreator.equationGame.onCreateLevel[12]=function(e){y(e,["1","X","-","8","empty","=","2","empty"],["-2","+4","-8","+8"])},F.GameCreator.equationGame.onCreateLevel[13]=function(e){y(e,["1","X","-","5","empty","=","9","empty"],["+5","-5","+9","-9"])},F.GameCreator.equationGame.onCreateLevel[14]=function(e){y(e,["1","X","-","7","empty","=","3","empty"],["-7","+7","-3","+3"])},F.GameCreator.equationGame.onCreateLevel[15]=function(e){y(e,["1","X","-","9","empty","=","3","empty"],["-9","+9","-3","+3"])},F.GameCreator.equationGame.onCreateLevel[16]=function(e){y(e,["1","X","-","8","empty","=","1","empty"],["+8","-8","+1","-7"])},F.GameCreator.equationGame.onCreateLevel[17]=function(e){y(e,["1","X","-","4","empty","=","5","empty"],["-5","+5","-4","+4"])},F.GameCreator.equationGame.onCreateLevel[18]=function(e){y(e,["1","X","-","3","empty","=","6","empty"],["+6","-6","+3","-3"])},F.GameCreator.equationGame.onCreateLevel[19]=function(e){y(e,["1","X","-","1","empty","=","8","empty"],["+1","-1","+8","-8"])},F.GameCreator.equationGame.onCreateLevel[20]=function(e){y(e,["4","X","empty","=","4","empty"],["/4","*4","+4","-4"])},F.GameCreator.equationGame.onCreateLevel[21]=function(e){y(e,["2","X","empty","=","5","empty"],["/2","*2","/5","*5"])},F.GameCreator.equationGame.onCreateLevel[22]=function(e){y(e,["5","X","empty","=","1","empty"],["*1","/1","*5","/5"])},F.GameCreator.equationGame.onCreateLevel[23]=function(e){y(e,["3","X","empty","=","6","empty"],["+3","-3","/3","*3"])},F.GameCreator.equationGame.onCreateLevel[24]=function(e){y(e,["7","X","empty","=","14","empty"],["-7","+7","*7","/7"])},F.GameCreator.equationGame.onCreateLevel[25]=function(e){y(e,["2","X","empty","=","8","empty"],["/2","*2","/8","*8"])},F.GameCreator.equationGame.onCreateLevel[26]=function(e){y(e,["8","X","empty","=","68","empty"],["*8","/8","+8","-8"])},F.GameCreator.equationGame.onCreateLevel[27]=function(e){y(e,["4","X","empty","=","24","empty"],["*4","-4","+4","/4"])},F.GameCreator.equationGame.onCreateLevel[28]=function(e){y(e,["3","X","empty","=","12","empty"],["/4","+4","*4","-4"])},F.GameCreator.equationGame.onCreateLevel[29]=function(e){y(e,["9","X","empty","=","27","empty"],["+9","*9","/9","-9"])},F.GameCreator.equationGame.onCreateLevel[30]=function(e){y(e,["1","X","/","4","empty","=","8","empty"],["/4","*4","/8","*8"])},F.GameCreator.equationGame.onCreateLevel[31]=function(e){y(e,["1","X","/","5","empty","=","2","empty"],["*5","/5","*2","/2"])},F.GameCreator.equationGame.onCreateLevel[32]=function(e){y(e,["1","X","/","8","empty","=","9","empty"],["/9","*9","/8","*8"])},F.GameCreator.equationGame.onCreateLevel[33]=function(e){y(e,["1","X","/","6","empty","=","5","empty"],["*6","/6","*5","/8"])},F.GameCreator.equationGame.onCreateLevel[34]=function(e){y(e,["1","X","/","6","empty","=","6","empty"],["+6","*6","-6","/6"])},F.GameCreator.equationGame.onCreateLevel[35]=function(e){y(e,["1","X","/","4","empty","=","7","empty"],["*7","/7","*4","/4"])},F.GameCreator.equationGame.onCreateLevel[36]=function(e){y(e,["1","X","/","7","empty","=","1","empty"],["/1","*1","/7","*7"])},F.GameCreator.equationGame.onCreateLevel[37]=function(e){y(e,["1","X","/","4","empty","=","5","empty"],["/4","*4","/5","*5"])},F.GameCreator.equationGame.onCreateLevel[38]=function(e){y(e,["1","X","/","3","empty","=","5","empty"],["*3","-3","/3","+3"])},F.GameCreator.equationGame.onCreateLevel[39]=function(e){y(e,["1","X","/","8","empty","=","3","empty"],["*8","/8","*3","/3"])},F.GameCreator.doodadLayouts.MistLayout1=function(e){var t=e.create("Mist",3,0,0,0,!0,-.2,-50);t.position.set(0,Z-t.height),t.alpha=.5;var n=e.create("Mist",3,0,0,0,!0,-.2,-50);n.position.set(t.width,Z-n.height),n.alpha=.5;var o=e.create("Mist",5,0,0,0,!0,-.25,50);o.position.set(-100,Z-t.height),o.alpha=.3;var r=e.create("Mist",5,0,0,0,!0,-.25,50);r.position.set(t.width-100,Z-n.height),r.alpha=.3},F.GameCreator.doodadLayouts.MistLayout2=function(e){var t=e.create("Mist",3,0,0,1,!0,-.2,-50);t.position.set(0,Z-t.height),t.alpha=.7;var n=e.create("Mist",3,0,0,1,!0,-.2,-50);n.position.set(t.width,Z-n.height),n.alpha=.7;var o=e.create("Mist",5,0,0,1,!0,-.25,150);o.position.set(-100,Z-t.height),o.alpha=.35;var r=e.create("Mist",5,0,0,1,!0,-.25,150);r.position.set(t.width-100,Z-n.height),r.alpha=.35},F.GameCreator.doodadLayouts.DefaultHillsLayout=function(e){q.game.stage.backgroundColor=16752923,x=e.create("hill",0,0,0,0,.15,!0),x.position.set(0,Z-x.height),L=e.create("hill",1,0,0,1,.2),L.position.set(0,Z-x.height),E=e.create("hill",2,0,0,2,.3),E.position.set(0,Z-x.height),G=e.create("hill",3,0,0,3,.5,!0),G.position.set(0,Z-x.height),M=e.create("hill",4,0,0,4,.7),M.position.set(0,Z-x.height),I=e.create("hill",5,0,0,5,1),I.position.set(Q-x.width,Z-x.height),C=e.create("mathMan",5,0,0),C.position.set(Q-C.width-140,Z-C.height-60),v=e.create("mathplant",5,Q/100*10,Z/100*81.5)},F.GameCreator.doodadLayouts.WorldOneHillsLayout=function(e){q.game.stage.backgroundColor=16752923;var t=e.create("HillsWorld1",0,0,0,0,.15,!0);t.position.set(0,Z-t.height),L=e.create("HillsWorld1",1,0,0,1,.2),L.position.set(0,Z-L.height),E=e.create("HillsWorld1",2,0,0,2,.3),E.position.set(0,Z-E.height),g=e.create("mathPlant",2,Q/100*13,Z/100*52,3),g.scale.set(.3),G=e.create("HillsWorld1",3,0,0,3,.5,!0),G.position.set(0,Z-G.height),b=e.create("mathPlant",3,Q/100*45,Z/100*70,1),b.scale.set(.6),M=e.create("HillsWorld1",4,0,0,4,.7),M.position.set(0,Z-M.height),v=e.create("mathPlant",4,Q/100*25,Z/100*80,0),I=e.create("HillsWorld1",5,0,0,5,1),I.position.set(Q-I.width,Z-I.height),C=e.create("mathMan",5,0,0,0),C.position.set(Q-C.width-140.5,Z-C.height-220),S=q.game.add.audio("wind1"),A=q.game.add.audio("harshNumberMoveSound"),j=q.game.add.audio("smallNumberMoveSound"),function(){switch($){case 0:v.setProgress(1),b.setProgress(0),g.setProgress(0);break;case 1:v.setProgress(4),b.setProgress(0),g.setProgress(0);break;case 2:v.setProgress(7),b.setProgress(0),g.setProgress(0);break;case 3:v.setProgress(9),b.setProgress(0),g.setProgress(0);break;case 4:v.setProgress(11),b.setProgress(0),g.setProgress(0);break;case 5:v.setProgress(12),b.setProgress(1),g.setProgress(1);break;case 6:v.setProgress(12),b.setProgress(3),g.setProgress(4);break;case 7:v.setProgress(12),b.setProgress(6),g.setProgress(7);break;case 8:v.setProgress(12),b.setProgress(8),g.setProgress(9);break;case 9:v.setProgress(12),b.setProgress(10),g.setProgress(11)}}(),Y&&d([I,M,G,E,L],[C],[v]),X.setWinAnimationFunc(c),X.setLoseAnimationFunc(a),X.setProcessEndAnimationFunc(i),X.setBeginAnimationFunc(o),X.setProcessBeginAnimationFunc(r),z.setParenthesisDoneAnimationFunc(s),J.setDropInAreaTween(u)},F.GameCreator.doodadLayouts.WorldTwoHillsLayout=function(e){q.game.stage.backgroundColor=13795496,x=e.create("HillsWorld2",0,0,0,0,.15,!0),x.position.set(0,Z-x.height);var t=e.create("Mill",1,Q-160,145,0,.2,.5,.5),n=e.create("Mill",1,Q-715,165,1,-.2,-.3,.3);L=e.create("HillsWorld2",1,0,0,1,.2),L.position.set(0,Z-L.height),E=e.create("HillsWorld2",2,0,0,2,.3),E.position.set(0,Z-E.height),E.input.pixelPerfectClick=!0,G=e.create("HillsWorld2",3,0,0,3,.5,!0),G.position.set(0,Z-G.height),_=e.create("Scale",4,0,0),_.position.set(Q/2,Z/2+55),M=e.create("HillsWorld2",4,0,0,4,.7),M.position.set(0,Z-M.height),C=e.create("mathMan",5,0,0,1),C.position.set(Q-C.width-50,Z-C.height-158),O=e.create("mathMan",5,0,0,2),O.position.set(Q-O.width-800,Z-O.height-158),S=q.game.add.audio("wind1"),A=q.game.add.audio("harshNumberMoveSound"),j=q.game.add.audio("smallNumberMoveSound"),Y&&d([M,G,E,L,t,n,_],[C],[O]),J.setDropInAreaTween(u)},F.GameCreator.onSettings[0]=function(e){e.set.GameSize(Q,Z),q.game.load.audio("harshNumberMoveSound","audio/windHit1.wav"),q.game.load.audio("smallNumberMoveSound","audio/windHit2.wav"),D=e.add.homePosition(230,500),N=e.add.homePosition(330,500),k=e.add.homePosition(430,500),T=e.add.homePosition(530,500),B=e.add.homePosition(630,500),R=e.add.homePosition(730,500),H=e.add.homePosition(830,500)},F.GameCreator.orderGame.onLoadGame[0]=function(e){e.change.doodadsLayout("WorldOneHillsLayout","MistLayout1")},F.GameCreator.equationGame.onLoadGame[0]=function(e){e.change.doodadsLayout("WorldTwoHillsLayout","MistLayout2")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(31);t.ComponentAbleSprite=o.makeComponentAbleSprite(Phaser.Sprite),t.ComponentAbleText=o.makeComponentAbleSprite(Phaser.Text)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(1),a=function(e){function t(t,n){void 0===n&&(n=2);var o=e.call(this,t)||this;return o.exponentiationValue=n,o.priority=3,o._symbolName="exponentiation",o}return o(t,e),t.prototype.calc=function(e){return{numberValue:Math.pow(e.numberValue,this.exponentiationValue),isX:e.isX}},t.prototype.getSymbolsNumbers=function(e,t){var n={};return n.left=i.findMaxElement(e.filter(function(e){return e.index<t}),function(e){return e.index}),n},t.prototype.checkNext=function(e){return!e||(!!e.getComponent(r.SymbolComponent)||!!e.getComponent("CompositeComponent"))},t}(r.SymbolComponent);a.componentName="ExponentiationComponent",a.inheritedComponentNames=[r.SymbolComponent],t.ExponentiationComponent=a},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(51)),o(n(53))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(1),a=function(e){function t(t,n){void 0===n&&(n=2);var o=e.call(this,t)||this;return o.rootValue=n,o.priority=3,o._symbolName="exponentiation",o}return o(t,e),t.prototype.calc=function(e){var t=0;return e.numberValue<0&&(t=NaN),t=2===this.rootValue?Math.sqrt(e.numberValue):Math.pow(e.numberValue,1/this.rootValue),{numberValue:t,isX:e.isX}},t.prototype.getSymbolsNumbers=function(e,t){var n={};return n.right=i.findMinElement(e.filter(function(e){return e.index>t}),function(e){return e.index}),n},t}(r.SymbolComponent);a.componentName="RootComponent",a.inheritedComponentNames=[r.SymbolComponent],t.RootComponent=a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._symbolName="Addition",t.priority=1,t}return o(t,e),t.prototype.calc=function(e,t){return{numberValue:e.numberValue+t.numberValue,isX:e.isX||t.isX}},t.prototype.isCalcValid=function(e,t){return e.isX===t.isX||0===t.numberValue||0===e.numberValue},t}(r.SymbolComponent);i.componentName="SymbolAdditionComponet",i.inheritedComponetNames=[r.SymbolComponent],t.AdditionComponent=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._symbolName="Division",t.priority=2,t}return o(t,e),t.prototype.calc=function(e,t){return{numberValue:e.numberValue/t.numberValue,isX:e.isX||t.isX}},t.prototype.isCalcValid=function(e,t){return!0},t}(r.SymbolComponent);i.componentName="SymbolDivisionComponet",i.inheritedComponentNames=[r.SymbolComponent],t.DivisionComponent=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._symbolName="Multiplication",t.priority=2,t}return o(t,e),t.prototype.calc=function(e,t){return{numberValue:e.numberValue*t.numberValue,isX:e.isX||t.isX}},t}(r.SymbolComponent);i.componentName="SymbolMultiplicationComponet",i.inheritedComponentNames=[r.SymbolComponent],t.MultiplicationComponent=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._symbolName="Subtraction",t.priority=1,t}return o(t,e),t.prototype.calc=function(e,t){var n,o;return t?(n=e.numberValue-t.numberValue,o=e.isX||t.isX):(n=0-e.numberValue,o=e.isX),{numberValue:n,isX:o}},t.prototype.getSymbolsNumbers=function(t,n){var o=e.prototype.getSymbolsNumbers.call(this,t,n);return o.left&&o.left.value.isX&&o.right&&0!==o.right.value.numberValue&&(o.left=void 0),o},t.prototype.isCalcValid=function(e,t){return!0},t}(r.SymbolComponent);i.componentName="SymbolSubtractionComponet",i.inheritedComponentNames=[r.SymbolComponent],t.SubtractionComponent=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWinCheckComponentType={componentName:"IWinCheckComponent"}},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(58)),o(n(60)),o(n(61))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){function t(t,n){var o=e.call(this,t)||this;return o.numberValue=n,o}return o(t,e),t.prototype.getMathObjectOwned=function(e){this._ownedSprites=e},t.prototype.checkForWin=function(e,t){if(2!==e.length||0!==t.length)return!1;var n=e[0],o=e[1];if(o.index<n.index){var r=n;n=o,o=r}return n.value.numberComponent.isX&&1===n.value.numberValue&&!o.value.numberComponent.isX},t}(r.PhaserSpriteBehavior);i.componentName="WinEquationComponent",t.WinEquationComponent=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){function t(t,n){var o=e.call(this,t)||this;return o.numberValue=n,o}return o(t,e),t.prototype.checkForWin=function(e,t){return 1===e.length&&0===t.length&&e[0].value.numberValue>this.numberValue},t.prototype.prepareIWinCheck=function(e){e()},t}(r.PhaserSpriteBehavior);i.componentName="WinIfGreaterComponet",t.WinIfGreaterComponent=i},function(e,t,n){"use strict";function o(){p=new a.ClickCloudClutter(i.game,0,0)}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(15),s=n(3),u=n(6),c=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r.distanceMod=n,r.sprite.inputEnabled=!0,r.sprite.input.pixelPerfectClick=o,r}return r(t,e),Object.defineProperty(t.prototype,"pixelPerfectClick",{get:function(){return this.sprite.input.pixelPerfectClick},set:function(e){this.sprite.input.pixelPerfectClick=e},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.sprite.events.onInputDown.add(this._eventOnInputDown,this)},t.prototype._eventOnInputDown=function(){var e=i.game.input.activePointer,t=e.x,n=e.y;p.PlayParticle(t,n,this.distanceMod)},t}(s.PhaserSpriteBehavior);c.componentName="CloudBurstComponent",t.CloudBurstComponent=c;var p;u.events.onCreate.add(o)},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(14),a=n(12),s=function(e){function t(t,n,o,r,i){var a=e.call(this,t)||this;return a._isMerged=!0,a.events={onSymbolTextNumberChange:new Phaser.Signal},a._numberObject=i,a._symbolObject=o,a._symbolText=n,a._numberValue=r,a._numberObject.exists=!1,a._symbolObject.exists=!1,a}return o(t,e),Object.defineProperty(t.prototype,"numberObject",{get:function(){return this._numberObject},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"symbolObject",{get:function(){return this._symbolObject},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMerged",{get:function(){return this._isMerged},enumerable:!0,configurable:!0}),t.prototype.start=function(){var e=this.sprite.getComponent(i.ResetAbleComponent);e&&e.events.onReset.add(this.onReset,this)},t.prototype.onReset=function(e){var t=e.symbolText,n=e.numberValue;t&&(this._symbolText=t),n&&(this._numberValue=n),this.events.onSymbolTextNumberChange.dispatch(this._symbolText,this._numberValue)},Object.defineProperty(t.prototype,"symbolText",{get:function(){return this._symbolText},set:function(e){this._symbolText!==e&&(this._symbolText=e,this.events.onSymbolTextNumberChange.dispatch(this._symbolText,this._numberValue))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberValue",{get:function(){return this._numberValue},set:function(e){this._numberValue!==e&&(this._numberValue=e,this.events.onSymbolTextNumberChange.dispatch(this._symbolText,this._numberValue))},enumerable:!0,configurable:!0}),t.prototype.split=function(){return this._numberObject.exists=!0,this._numberObject.numberValue=this._numberValue,this._symbolObject.exists=!0,this._isMerged=!1,this._numberObject.alpha=1,this._symbolObject.alpha=1,this._symbolObject.changeSymbol&&this._symbolObject.changeSymbol(this._symbolText),{numberObject:this._numberObject,symbolObject:this._symbolObject}},t.prototype.merge=function(){this._symbolObject.exists=!1,this._numberObject.exists=!1,this.sprite.exists=!0,this.sprite.alpha=1,this._isMerged=!0},t.prototype.checkNext=function(e){return this._numberObject.numberValue=this._numberValue,this._numberObject.numberComponent.checkNext(e)},t}(r.PhaserSpriteBehavior);s.componentName="CompositeComponent",s.inheritedComponentNames=[a.ICheckNextAbleType],t.CompositeComponent=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(28),a=n(8),s=n(11);t.DragAndDropComponent=s.DragAndDropComponent;var u=function(e){function t(t,n,o,r){var i=e.call(this,t,n,o,r)||this;i._currentHomeNumber=0,i._useHomePoint=!0,i.events.onMoveTowardsDropArea.add(i._eventOnMoveTowardsDropArea,i),i._currentHomePosition=a.NumberManager.registerNumberObjectComponent(i);var s=i._currentHomePosition,u=s.x,c=s.y,p=s.index;return i._currentHomeNumber=p,i._movePoint={x:u,y:c},i.sprite.position.set(u,c),i}return o(t,e),Object.defineProperty(t.prototype,"getMovePoint",{get:function(){return this._movePoint},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getCurrentHomeNumber",{get:function(){return this._currentHomeNumber},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getUseHomePoint",{get:function(){return this._useHomePoint},enumerable:!0,configurable:!0}),t.prototype._getHomePoint=function(){if(!this._useHomePoint){var e=a.NumberManager.registerNumberObjectComponent(this),t=e.x,n=e.y,o=e.index;this._useHomePoint=!0,this.changeHomeNumber(o,t,n,!1)}return this.getMovePoint},t.prototype.notDropInArea=function(){this._moveToPoint=this._getHomePoint(),this._beginTweenMoveHome()},t.prototype.moveHome=function(e,t){this._dropAreaUsing=null,this._moveToPoint=this._getHomePoint(),this._beginTweenMoveHome(e,t)},t.prototype._beginTweenMoveHome=function(e,t){if(this._moveTween&&this._moveTween.stop(),this._moveTween){var n=this._moveTween;this._moveTween=i.goHomeTween(this.sprite,this._moveToPoint),this._moveTween.onChildComplete=n.onChildComplete,this._moveTween.onComplete=n.onComplete,this._moveTween.onLoop=n.onLoop,this._moveTween.onRepeat=n.onRepeat,this._moveTween.onStart=n.onStart}else this._moveTween=i.goHomeTween(this.sprite,this._moveToPoint);e&&this._moveTween.onComplete.addOnce(e,t),this._moveTween.start()},Object.defineProperty(t.prototype,"currentHomePosition",{get:function(){return this._currentHomePosition},set:function(e){this._currentHomePosition=e;var t=a.NumberManager.registerNumberObjectComponentAt(this,e.index),n=t.x,o=t.y,r=t.index;this._currentHomeNumber=r,this._movePoint={x:n,y:o}},enumerable:!0,configurable:!0}),t.prototype.changeHomeNumber=function(e,t,n,o){void 0===o&&(o=!0),this._currentHomeNumber=e,this._movePoint={x:t,y:n},o&&!this.getIsBeginDragged&&this._useHomePoint&&this.moveToNewPos(t,n)},t.prototype.moveToNewPos=function(e,t){if(this._moveTween&&this._moveTween.stop(!1),this._moveTween){var n=this._moveTween;this._moveTween=i.switchHomePointTween(this.sprite,{x:e,y:t}),this._moveTween.onChildComplete=n.onChildComplete,this._moveTween.onComplete=n.onComplete,this._moveTween.onLoop=n.onLoop,this._moveTween.onRepeat=n.onRepeat,this._moveTween.onStart=n.onStart}else this._moveTween=i.switchHomePointTween(this.sprite,{x:e,y:t});this._moveTween.start()},t.prototype._eventOnMoveTowardsDropArea=function(){this._useHomePoint=!1,a.NumberManager.removeNumberObjectComponent(this)},t}(r.DragAndDropComponent);u.componentName="DadHomeComponent",u.inheritedComponentNames=[r.DragAndDropComponent,a.NumberManager.INumberMangerComponentType],t.DADHomeComponent=u},function(e,t,n){"use strict";function o(e){c=e}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(11),s=n(14),u=n(124);!function(e){function t(e,t){e()}function n(n){e.animationFunk=n||t}e.setAnimationFunk=n,e.animationFunk=t}(i||(i={}));var c;u.events.onLoad.add(o);var p=function(e){function t(t,n,o,r){var i=e.call(this,t,n,o,r)||this;return i._hasDisableSpawn=!1,i.events.onNotDropInArea=new Phaser.Signal,i._state=c,i.events.onMoveTowardsDropArea.add(i.onMoveTowardsDropArea,i),i.events.onNotDropInArea.add(i.onNotDropInAreaInAbleSpawn,i),i}return r(t,e),t.prototype.start=function(){var e=this.sprite.getComponent(s.ResetAbleComponent);e&&e.events.onReset.add(this.onReset,this)},t.prototype.onReset=function(e){var t=e.dragAble;void 0!==t?this.SetDragAble(t):this.SetDragAble(!0)},t.prototype.onMoveTowardsDropArea=function(){var e=this;this._state.spawnerCompositeObjects.forEach(function(t){t!==e.spawnerOfSprite&&t.spawnerComponent.canSpawn(!1)},this),this._hasDisableSpawn=!0},t.prototype.onNotDropInAreaInAbleSpawn=function(){this._hasDisableSpawn&&this._state.spawnerCompositeObjects.forEach(function(e){e.spawnerComponent.canSpawn(!0)},this)},t.prototype.notDropInArea=function(){function e(){this.sprite.exists=!1}this.SetDragAble(!1),this.events.onNotDropInArea.dispatch(this),t.animation.animationFunk(e.bind(this),{spawnerOfSprite:this.spawnerOfSprite,draggedSprite:this.sprite})},t.prototype.disappear=function(){this._dropAreaUsing=null,this.notDropInArea()},t}(a.DragAndDropComponent);p.componentName="DadSpawnComponent",p.inheritedComponentNames=[a.DragAndDropComponent],p.animation=i,t.DadSpawnComponent=p},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r.isLit=!1,r.spriteKeyLitUp=n,r.spriteKeyLitDown=o,r}return o(t,e),t.prototype.LitUp=function(){this.isLit||(this.sprite.loadTexture(this.spriteKeyLitUp),this.isLit=!0)},t.prototype.LitDown=function(){this.isLit&&(this.sprite.loadTexture(this.spriteKeyLitDown),this.isLit=!1)},t}(r.PhaserSpriteBehavior);i.componentName="NewLitUpComponent",t.NewLitUpComponent=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(e){function t(t,n){void 0===n&&(n=null);var o=e.call(this,t)||this;return o.ownedBy=n,o}return o(t,e),t}(r.PhaserSpriteBehavior);i.componentName="MathOwnedByComponent",t.MathOwnedByComponent=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),a=n(8),s=n(2),u=n(1);!function(e){function t(e,t){var n=t.spawnerSprite,o=n.scale,r=o.x,i=o.y;r*=1.5,i*=1.5,s.game.add.tween(n.scale).to({x:r,y:i},200,Phaser.Easing.Exponential.InOut,!0,0,void 0,!0).onLoop.addOnce(e)}function n(e,t){var n=t.canSpawn,o=t.spawnerSprite,r=n?1:.45;s.game.add.tween(o).to({alpha:r},455,Phaser.Easing.Linear.None,!0).onComplete.add(e)}function o(n){e.spawnAnimationFunk=n||t}function r(t){e.spawnStateChangeAnimation=t||n}e.setSpawnAnimationFunk=o,e.setSpawnStateChangeAnimation=r,e.spawnAnimationFunk=t,e.spawnStateChangeAnimation=n}(r||(r={}));var c=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r.defaultSpawnArgs=o,r._canSpawn=!0,t.inputEnabled=!0,t.events.onInputDown.add(r._onInputDown,r),r._spawnSpriteArray=n,a.MathManger.onMathBegin.add(function(){return r._canSpawn=!1},r),a.MathManger.onMathDoneLose.add(function(){return r._canSpawn=!0},r),r}return o(t,e),t.prototype._onInputDown=function(e,n){function o(){console.log("Done")}if(this._canSpawn){var r=this.defaultSpawnArgs,i=r.createArg,a=r.group,s=r.resetArgs,c=this.sprite,p=this.sprite,l=p.x,h=p.y;s.x=l,s.y=h,s.alpha=1,s.exists=!0,s.dragAble=!0;var m=(d=this._spawnSpriteArray).restElseCreate.apply(d,[a,s,l,h].concat(i));m.dadSpawnComponent.spawnerOfSprite=this.sprite,u.Phaser.setToCurrentDrag(m,{x:l,y:h}),t.animation.spawnAnimationFunk(o.bind(this),{spawnedSprite:m,spawnerSprite:c});var d}},t.prototype.canSpawn=function(e){this._canSpawn=e,r.spawnStateChangeAnimation(function(){},{canSpawn:e,spawnerSprite:this.sprite})},t}(i.PhaserSpriteBehavior);c.componentName="SpawnerComponent",c.animation=r,t.SpawnerComponent=c},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),i=n(13),a=n(6);t.startingAreaLayer="StartingAreaLayer",t.startingObjectLayer="StartingAreaObjectsLayer";var s=function(e){function n(n){var o=e.call(this,n,t.startingAreaLayer,[t.startingObjectLayer],new Phaser.Rectangle(r.jsonGlobalObject.startingArea.x,r.jsonGlobalObject.startingArea.y,r.jsonGlobalObject.startingArea.width,r.jsonGlobalObject.startingArea.height))||this;return o.events={numberObjectExit:new Phaser.Signal},o.receiveOverlapEvent=!0,a.events.onRender.add(o.render,o),r.addOnJsonUpdate(o,o._updateRectangle,o),o}return o(n,e),n.prototype.onOverlapExit=function(e){this.events.numberObjectExit.dispatch(e)},n.prototype.render=function(e){r.jsonGlobalObject.debugDraw&&e.game.debug.geom(this.getOverlapRectangle(),"red",!1)},n.prototype._updateRectangle=function(e){this.overlapRectangleOffSet.set(e.startingArea.x,e.startingArea.y),this.overlapRectangle.width=e.startingArea.width,this.overlapRectangle.height=e.startingArea.height},n.prototype.onRemove=function(){r.removeOnJsonUpdate(this)},n}(i.RectangleOverlapComponent);s.componentName="StartingAreaComponent",t.StartingAreaComponent=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),r=function(){function e(e,t){t.secondStageStartDropArea=null,this._level=e,this._state=t;var n=this;this.create={dropArea:this._createDropArea.bind(this),symbol:this._createSymbol.bind(this),number:this._createNumber.bind(this),winCheck:this._createWinSymbol.bind(this),parenthesisPair:this._createParenthesisPair.bind(this),fixed:{number:n._createFixedNumber.bind(n),symbol:n._createFixedSymbol.bind(n)},complexSymbol:{root:n._createRoot.bind(n),exponentiation:n._createExponentiation.bind(n)},composite:this._createComposite.bind(this),compositeSpawner:this._createCompositeSpawner.bind(this)},this.change={doodadsLayout:this._changeDoodadsLayout.bind(this)},this.set={secondStageStartDropArea:this._setSecondStageStartDropArea.bind(this)}}return Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype._createDropArea=function(e,t){return this._state.dropAreaObjects.create(void 0,e,t)},e.prototype._createNumber=function(e,t,n,o){var r=this._state.dragAbleNumberObjects.create(void 0,0,0,e,t);return o&&(r.divisionStyling=o),n&&(r.isX=n),r},e.prototype._createFixedNumber=function(e,t,n,o){var r=this._state.fixedNumberObjects.create(void 0,0,0,e);return t&&t.addObjectFixed(r),o&&(r.divisionStyling=o),n&&(r.isX=n),r},e.prototype._createFixedSymbol=function(e,t){var n=this._state.fixedSymbolObjects.create(void 0,0,0,e);return t&&t.addObjectFixed(n),n},e.prototype._createSymbol=function(e,t){return this._state.dragAbleSymbolObjects.create(void 0,0,0,e,t)},e.prototype._createWinSymbol=function(e,t,n,o){return void 0===t&&(t=0),this._state.winSymbolObjects.create(void 0,n,o,e,t)},e.prototype._createParenthesisPair=function(e,t,n){return this._state.parenthesisPairObjects.create(e,t,n)},e.prototype._createExponentiation=function(e,t){var n=this._state.exponentiationSymbolObjects.create(void 0,0,0,t);return e&&e.addObjectFixed(n),n},e.prototype._createCompositeSpawner=function(e,t,n,o){return this._state.spawnerCompositeObjects.create(void 0,n,o,e,t)},e.prototype._createRoot=function(e,t){var n=this._state.rootSymbolObjects.create(void 0,0,0,t);return e&&e.addObjectFixed(n),n},e.prototype._createComposite=function(e,t,n){var o=this._state.compositeObjects.create(void 0,0,0,e,t);return n&&n.addObjectFixed(o),o},e.prototype._changeDoodadsLayout=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.currentDoodadLayouts.length=e.length;for(var n=0;n<e.length;n++)o.currentDoodadLayouts[n]=e[n]},e.prototype._setSecondStageStartDropArea=function(e){void 0===e&&(e=null),this._state.secondStageStartDropArea=e},e}();t.LevelCreator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(20),r=n(8),i=n(19),a=function(){function e(e){this._state=e,this.add={homePosition:this._addHomePosition.bind(this)},this.custom={doodad:i.addDoodadClass},this.change={doodadsLayout:this._changeDoodadsLayout},this.set={GameSize:e.scale.setGameSize.bind(e.scale)},this.load=e.load}return Object.defineProperty(e.prototype,"state",{get:function(){return this.state},enumerable:!0,configurable:!0}),e.prototype._addHomePosition=function(e,t){return r.NumberManager.createHomePosition(e,t)},e.prototype._changeDoodadsLayout=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.currentDoodadLayouts.length=e.length;for(var n=0;n<e.length;n++)o.currentDoodadLayouts[n]=e[n]},e}();t.SettingsCreator=a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(21),i=n(0),a=n(22),s=n(4),u=function(e){function t(t,n,o,s,u){void 0===u&&(u={});var c=e.call(this,t,n,o,s,u.style)||this;return c.dADHomeComponent=c.addComponent(i.DADHomeComponent,[r.numberOverlapLayer,i.startingObjectLayer],[a.dropAreaOverlapLayer]),c.anchor.set(.5),c}return o(t,e),Object.defineProperty(t.prototype,"homePosition",{get:function(){return this.dADHomeComponent.currentHomePosition},set:function(e){this.dADHomeComponent.currentHomePosition=e},enumerable:!0,configurable:!0}),t.prototype.resetSprite=function(t,n,o,r){return void 0===r&&(r=s.textStyleConfig),e.prototype.resetSprite.call(this,t,n,o,r),this.dADHomeComponent.moveHome(),this},t}(r.NumberObject);t.DragAbleNumberObject=u},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(21),a=function(e){function t(t,n,o,i,a){return void 0===a&&(a=r.textStyleConfig),e.call(this,t,n,o,i,a)||this}return o(t,e),t}(i.NumberObject);t.TemporaryNumberObject=a},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(39)),o(n(40)),o(n(75))},function(e,t,n){"use strict";function o(e){var t=a.improveArray();return t.create=r,t.defaultGroup=e,t}function r(e,t,n){var o=new i.ParenthesisPair(e,t,n,this.defaultGroup);return this.push(o),o}Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),a=n(1);t.makeParenthesisPairArray=o},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),a=function(e){function t(t,n,o,a){void 0===a&&(a=2);var s=e.call(this,t,n,o,a.toString(),i.textStyleConfig)||this;return s._symbolStateComponent=s.addComponent(r.ExponentiationComponent,a),s.anchor.setTo(.5),s}return o(t,e),Object.defineProperty(t.prototype,"symbolComponent",{get:function(){return this._symbolStateComponent},enumerable:!0,configurable:!0}),t}(r.ComponentAbleText);t.ExponentiationObject=a},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(76)),o(n(78))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){function t(t,n,o,i){void 0===i&&(i=2);var a=e.call(this,t,n,o,"sqrRoot")||this;return a._symbolStateComponent=a.addComponent(r.RootComponent,i),a.anchor.setTo(.29,.55),a}return o(t,e),Object.defineProperty(t.prototype,"symbolComponent",{get:function(){return this._symbolStateComponent},enumerable:!0,configurable:!0}),t.loadAssets=function(e){e.load.image("sqrRoot","images/sqrRoot.png")},t}(r.ComponentAbleSprite);t.RootObject=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(42),a=n(22),s=n(4);t.symbolOverlapLayer="SymbolObject";var u=function(e){function n(n,o,i,u,c){void 0===c&&(c={});var p=e.call(this,n,o,i,u,{style:c.style||s.textStyleConfig})||this;return p.changeSymbol(u),p._dADHomeComponent=p.addComponent(r.DADHomeComponent,[t.symbolOverlapLayer,r.startingObjectLayer],[a.dropAreaOverlapLayer]),p.anchor.set(.5),p}return o(n,e),Object.defineProperty(n.prototype,"dADHomeComponent",{get:function(){return this._dADHomeComponent},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"homePosition",{get:function(){if(this._dADHomeComponent)return this._dADHomeComponent.currentHomePosition},set:function(e){this._dADHomeComponent&&e&&(this._dADHomeComponent.currentHomePosition=e)},enumerable:!0,configurable:!0}),n.prototype.resetSprite=function(t,n,o,r){return void 0===r&&(r={}),e.prototype.resetSprite.call(this,t,n,o,r),this._dADHomeComponent.moveHome(),this},n}(i.SymbolObject);t.DragAbleSymbolObject=u},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),a=n(1),s=function(e){function t(t,n,o,s,u,c){var p=e.call(this,t,n,o,"",i.textStyleConfig)||this;p.text=a.MathDAD.symbolTextToString(s)+" "+a.MathDAD.numberToString(u,!1),p.anchor.setTo(.5);var l={symbolText:s,numberValue:u},h=[s,u];return p._spawnerComponent=p.addComponent(r.SpawnerComponent,c,{resetArgs:l,createArg:h}),p}return o(t,e),Object.defineProperty(t.prototype,"spawnerComponent",{get:function(){return this._spawnerComponent},enumerable:!0,configurable:!0}),t}(r.ComponentAbleText);t.CompositeSpawner=s},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(22)),o(n(83)),o(n(38)),o(n(41)),o(n(74)),o(n(43)),o(n(80)),o(n(82))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(43),a=n(24),s=function(e){function t(t,n,o,i,s,u,c){var p=e.call(this,t,n,o,i,s,u,c)||this;return p._dadSpawnComponent=p.addComponent(r.DadSpawnComponent,[a.numberOverlapLayer],[a.dropAreaOverlapLayer]),p}return o(t,e),Object.defineProperty(t.prototype,"dadSpawnComponent",{get:function(){return this._dadSpawnComponent},enumerable:!0,configurable:!0}),t}(i.CompositeObject);t.SpawnCompositeObject=s},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),a=function(e){function t(t,n,o,a,s){var u=e.call(this,t,n,o,"",i.textStyleConfig)||this;switch(a){case">":u._winCheckComponent=u.addComponent(r.WinIfGreaterComponent,s),u.text=a+" "+s.toString();break;case"=":u._winCheckComponent=u.addComponent(r.WinEquationComponent),u.text=a}return u.anchor.setTo(.5),u}return o(t,e),Object.defineProperty(t.prototype,"winCheckComponent",{get:function(){return this._winCheckComponent},enumerable:!0,configurable:!0}),t}(r.ComponentAbleText);t.WinSymbolObject=a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(23),s=n(9);t.hillSpriteKeys=["spr_hill_6","spr_hill_5","spr_hill_4","spr_hill_3","spr_hill_2","spr_hill_1"];var u=function(e){function n(n,o,r,a,s,u){void 0===u&&(u=!1);var c=e.call(this,n,o,r,t.hillSpriteKeys[a])||this;return c.cloudBurstComponent=c.addComponent(i.CloudBurstComponent,s,u),c}return o(n,e),n.prototype.setCloudBurst=function(e,t){void 0===t&&(t=!1),this.cloudBurstComponent.distanceMod=e,this.cloudBurstComponent.pixelPerfectClick=t},n.loadAssetsHill=function(e){e.load.image(t.hillSpriteKeys[5],"images/mathman/world_0001_hill-1.png"),e.load.image(t.hillSpriteKeys[4],"images/mathman/world_0003_hill2.png"),e.load.image(t.hillSpriteKeys[3],"images/mathman/world_0005_hill-3.png"),e.load.image(t.hillSpriteKeys[2],"images/mathman/world_0007_hill-4.png"),e.load.image(t.hillSpriteKeys[1],"images/mathman/world_0009_hill-5.png"),e.load.image(t.hillSpriteKeys[0],"images/mathman/world_0010_hill-6.png")},n}(i.ComponentAbleSprite);r([s.assetLoadMethod(s.StateEnum.Main)],u,"loadAssetsHill",null),u=r([a.registerDoodad("hill")],u),t.HillObject=u},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(23),s=n(9);t.World1HillSprites=["world_1_hill_6","world_1_hill_5","world_1_hill_4","world_1_hill_3","world_1_hill_2","world_1_hill_1"],t.WindSound="wind1";var u=function(e){function n(n,o,r,a,s,u){void 0===u&&(u=!1);var c=e.call(this,n,o,r,t.World1HillSprites[a])||this;return c.cloudBurstComponent=c.addComponent(i.CloudBurstComponent,s,u),c}return o(n,e),n.prototype.setCloudBurst=function(e,t){void 0===t&&(t=!1),this.cloudBurstComponent.distanceMod=e,this.cloudBurstComponent.pixelPerfectClick=t},n.loadAssetsHill=function(e){e.load.image(t.World1HillSprites[5],"images/mathman/World1/bg1.png"),e.load.image(t.World1HillSprites[4],"images/mathman/World1/bg2.png"),e.load.image(t.World1HillSprites[3],"images/mathman/World1/bg3.png"),e.load.image(t.World1HillSprites[2],"images/mathman/World1/bg4.png"),e.load.image(t.World1HillSprites[1],"images/mathman/World1/bg5.png"),e.load.image(t.World1HillSprites[0],"images/mathman/World1/bg6.png"),e.load.audio(t.WindSound,"audio/Wind1.wav")},n}(i.ComponentAbleSprite);r([s.assetLoadMethod(s.StateEnum.Main)],u,"loadAssetsHill",null),u=r([a.registerDoodad("HillsWorld1")],u),t.HillScene1=u},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),r=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(23),s=n(9);t.World2HillSprites=["world_2_hill_5","world_2_hill_4","world_2_hill_3","world_2_hill_2","world_2_hill_1"];var u=function(e){function n(n,o,r,a,s,u){void 0===u&&(u=!1);var c=e.call(this,n,o,r,t.World2HillSprites[a])||this;return c.cloudBurstComponent=c.addComponent(i.CloudBurstComponent,s,u),c}return o(n,e),n.prototype.setCloudBurst=function(e,t){void 0===t&&(t=!1),this.cloudBurstComponent.distanceMod=e,this.cloudBurstComponent.pixelPerfectClick=t},n.loadAssetsHill=function(e){e.load.image(t.World2HillSprites[4],"images/mathman/World2/bg5.png"),e.load.image(t.World2HillSprites[3],"images/mathman/World2/bg4.png"),e.load.image(t.World2HillSprites[2],"images/mathman/World2/bg3.png"),e.load.image(t.World2HillSprites[1],"images/mathman/World2/bg2.png"),e.load.image(t.World2HillSprites[0],"images/mathman/World2/bg1.png")},n}(i.ComponentAbleSprite);r([s.assetLoadMethod(s.StateEnum.Main)],u,"loadAssetsHill",null),u=r([a.registerDoodad("HillsWorld2")],u),t.HillScene2=u},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.mathmanSpritesheetKeys=["sheet1","sheet2","sheet3"];var r=function(e){function n(n,o,r,i){var a=e.call(this,n,o,r,t.mathmanSpritesheetKeys[i])||this;return a.isMoving=!0,a.positionX=o,a.positionY=r,0===i&&(a.scratchAnimation=a.animations.add(t.mathmanSpritesheetKeys[i],[1,2,3,4,5,6,7,8,9,10],6,!1),a.castMagicAnimation=a.animations.add(t.mathmanSpritesheetKeys[i],[10,11,12,13,14,15],6,!1),a.standAnimation=a.animations.add(t.mathmanSpritesheetKeys[i],[0],6,!0),a.scale.set(.65)),1===i&&(a.standAnimation=a.animations.add(t.mathmanSpritesheetKeys[i],[0],6,!0)),a}return o(n,e),n.loadAssets=function(e){e.load.spritesheet(t.mathmanSpritesheetKeys[0],"images/Mathman.png",200,352,15),e.load.spritesheet(t.mathmanSpritesheetKeys[1],"images/mathman/World2/mathman.png",139,222,1),e.load.spritesheet(t.mathmanSpritesheetKeys[2],"images/mathman/World2/merchant.png",108,254,1)},n.prototype.castMagic=function(){this.castMagicAnimation.play().onComplete.addOnce(this.useDefaultAnimation,this)},n.prototype.scratch=function(){this.scratchAnimation.play().onComplete.addOnce(this.useDefaultAnimation,this)},n.prototype.useDefaultAnimation=function(){this.standAnimation.play()},n}(Phaser.Sprite);r.doodadName="MathMan",t.MathManObject=r},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=n(2);t.mathPlantVariants=["mathplant_1","mathplant_2","mathplant_3","mathplant_4"];var a=function(e){function n(n,o,i,a){var s=e.call(this,n,o,i,t.mathPlantVariants[a])||this;return s.anchor.set(.5,1),s.treeGrowParticle=new r.TreeParticleObject(n,0,0),s}return o(n,e),n.loadAssets=function(e){e.load.spritesheet(t.mathPlantVariants[0],"images/mathman/World1/tree1.png",299,250,13),e.load.spritesheet(t.mathPlantVariants[1],"images/mathman/World1/tree2.png",299,250,13),e.load.spritesheet(t.mathPlantVariants[2],"images/mathman/World1/tree3.png",299,250,13),e.load.spritesheet(t.mathPlantVariants[3],"images/mathman/World1/tree4.png",299,250,13),r.TreeParticleObject.loadAssets(e)},n.prototype.growPlant=function(e,t){var n=e+this.animations.frame;if(this.animations.frame=this.animations.frame+1,this.animations.frame>0&&this.animations.frame<3?i.game.add.tween(this.scale).to({x:this.scale.x+.03,y:this.scale.y+.13},200,Phaser.Easing.Circular.Out,!0,void 0,0,!0):3===this.animations.frame?i.game.add.tween(this.scale).to({x:this.scale.x+.13,y:this.scale.y+.03},200,Phaser.Easing.Bounce.Out,!0,void 0,0,!0):4===this.animations.frame?(i.game.add.tween(this.scale).to({x:this.scale.x+.1,y:this.scale.y+.03},100,Phaser.Easing.Bounce.Out,!0,void 0,0,!0),this.treeGrowParticle.x=this.position.x+30,this.treeGrowParticle.y=this.position.y-60,this.treeGrowParticle.x=this.position.x-30,this.treeGrowParticle.y=this.position.y-60):5===this.animations.frame?i.game.add.tween(this.scale).to({x:this.scale.x+0,y:this.scale.y+.08},100,Phaser.Easing.Bounce.Out,!0,void 0,0,!0):6===this.animations.frame?i.game.add.tween(this.scale).to({x:this.scale.x-.06,y:this.scale.y-.02},100,Phaser.Easing.Bounce.Out,!0,void 0,0,!0):7===this.animations.frame?i.game.add.tween(this.scale).to({x:this.scale.x+.06,y:this.scale.y+.06},100,Phaser.Easing.Bounce.Out,!0,void 0,0,!0):8===this.animations.frame?(i.game.add.tween(this.scale).to({x:this.scale.x+.01,y:this.scale.y+.06},100,Phaser.Easing.Bounce.Out,!0,void 0,0,!0),this.treeGrowParticle.x=this.position.x+30,this.treeGrowParticle.y=this.position.y-120,this.treeGrowParticle.x=this.position.x-30,this.treeGrowParticle.y=this.position.y-120):9===this.animations.frame?i.game.add.tween(this.scale).to({x:this.scale.x+.05,y:this.scale.y+.01},100,Phaser.Easing.Bounce.Out,!0,void 0,0,!0):10===this.animations.frame?(i.game.add.tween(this.scale).to({x:this.scale.x+.05,y:this.scale.y+.01},100,Phaser.Easing.Bounce.Out,!0,void 0,0,!0),this.treeGrowParticle.x=this.position.x+50,this.treeGrowParticle.y=this.position.y-120,this.treeGrowParticle.x=this.position.x-50,this.treeGrowParticle.y=this.position.y-120,this.treeGrowParticle.x=this.position.x+40,this.treeGrowParticle.y=this.position.y-80,this.treeGrowParticle.x=this.position.x-40,this.treeGrowParticle.y=this.position.y-80):11===this.animations.frame?(i.game.add.tween(this.scale).to({x:this.scale.x+.05,y:this.scale.y+.01},200,Phaser.Easing.Bounce.Out,!0,void 0,0,!0),this.treeGrowParticle.x=this.position.x+50,this.treeGrowParticle.y=this.position.y-130,this.treeGrowParticle.x=this.position.x-50,this.treeGrowParticle.y=this.position.y-130,this.treeGrowParticle.x=this.position.x+60,this.treeGrowParticle.y=this.position.y-80,this.treeGrowParticle.x=this.position.x-60,this.treeGrowParticle.y=this.position.y-80):12===this.animations.frame&&(i.game.add.tween(this.scale).to({x:this.scale.x+.06,y:this.scale.y+0},200,Phaser.Easing.Bounce.Out,!0,void 0,0,!0),this.treeGrowParticle.x=this.position.x+50,this.treeGrowParticle.y=this.position.y-130,this.treeGrowParticle.x=this.position.x-50,this.treeGrowParticle.y=this.position.y-130,this.treeGrowParticle.x=this.position.x+60,this.treeGrowParticle.y=this.position.y-80,this.treeGrowParticle.x=this.position.x-60,this.treeGrowParticle.y=this.position.y-80,this.treeGrowParticle.x=this.position.x,this.treeGrowParticle.y=this.position.y-140),!(this.animations.frame<n))return void(t&&t());i.game.time.events.add(500,this.growPlant.bind(this,e-1,t),this)},n.prototype.setProgress=function(e){this.animations.frame=e},n}(Phaser.Sprite);a.doodadName="mathPlant",t.MathPlant=a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.millSpriteKeys=["millHouse1","millHouse2"],t.wingsSpriteKeys=["millWings1","millWings2"];var i=function(e){function n(n,o,r,i,a,s,u){var c=e.call(this,n,o,r,t.millSpriteKeys[i])||this;return c.rotationMod=0,c.shakeAngle=7,c.anchor.set(.5,1),c.wings=c.createWings(i),c.setBasePosition(0,0-c.height/1.2),c.startAngle=c.angle,c.inputEnabled=!0,c.events.onInputDown.add(c.millShake,c),s&&c.scale.multiply(s,1),u&&c.scale.multiply(1,u),c.rotationSpeed=a||.2,c}return o(n,e),n.loadAssets=function(e){e.load.image(t.millSpriteKeys[0],"images/mathman/World2/mill/mill1.png"),e.load.image(t.millSpriteKeys[1],"images/mathman/World2/mill/mill2.png"),e.load.image(t.wingsSpriteKeys[0],"images/mathman/World2/mill/wings1.png"),e.load.image(t.wingsSpriteKeys[1],"images/mathman/World2/mill/wings2.png")},n.prototype.createWings=function(e){var n=new Phaser.Sprite(r.game,0,0,t.wingsSpriteKeys[e]);return this.addChild(n),n.anchor.set(.5,.5),n},n.prototype.millShake=function(){this.shakeTween&&this.shakeTween.stop,this.angle=this.startAngle,this.shakeTween=r.game.add.tween(this).to({angle:this.shakeAngle},120,Phaser.Easing.Circular.Out,!0,0,void 0,!0),this.rotationMod+=50},n.prototype.setBasePosition=function(e,t){this.wings.position.set(e,t)},n.prototype.update=function(){this.wings.angle+=this.rotationSpeed*this.rotationMod+this.rotationSpeed,this.rotationMod*=.9},n}(Phaser.Sprite);i.doodadName="Mill",t.MillObject=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=["spr_mist_1","spr_mist_2"],i=function(e){function t(t,n,o,i,a,s,u){void 0===a&&(a=!0),void 0===s&&(s=-.5),void 0===u&&(u=0);var c=e.call(this,t,n,o,r[i])||this;return c.xSpeed=s,c.yOffset=u,c}return o(t,e),t.prototype.update=function(){this.position.x+=this.xSpeed,this.position.y=this.game.height-this.height+15*Math.sin(this.game.time.now/2200)+this.yOffset,this.position.x+this.width<0&&(this.position.x=this.width)},t.prototype.setParallax=function(e,t,n){e&&(this.checkWorldBounds=!0,this.events.onOutOfBounds.add(this._eventOutOfBounds,this))},t.prototype._eventOutOfBounds=function(){},t.loadAssets=function(e){e.load.image(r[0],"images/mathman/World1/mist.png"),e.load.image(r[1],"images/mathman/World2/mist.png")},t}(Phaser.Sprite);i.doodadName="Mist",t.MistObject=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(e){function t(t,n,o){var r=e.call(this,t,n,o,"scaleBase")||this;return r.oldAngle=0,r.testTilt=!0,r.testDirection=0,r.anchor.set(.5,.5),r.scaleWeight=r.createWeight(),r.fruitBasket=r.createFruitBasket(r.scaleWeight),r.moneyBag=r.createMoneyBag(r.scaleWeight),r.inputEnabled=!0,r.events.onInputDown.add(r.shakeScale,r),r}return o(t,e),t.loadAssets=function(e){e.load.image("scaleBase","images/mathman/World2/scale/base.png"),e.load.image("scaleWeight","images/mathman/World2/scale/scale.png"),e.load.image("scaleMoney","images/mathman/World2/scale/money.png"),e.load.image("scaleBasket","images/mathman/World2/scale/basket.png")},t.prototype.createWeight=function(){var e=new Phaser.Sprite(r.game,-22,-53,"scaleWeight");return this.addChild(e),e.anchor.set(.5,.5),e},t.prototype.createMoneyBag=function(e){var t=new Phaser.Sprite(r.game,-this.width,-this.height/3,"scaleMoney");return e.addChild(t),t.anchor.set(.5,.5),t.scale.multiply(.7,.7),t.alpha=0,t},t.prototype.createFruitBasket=function(e){var t=new Phaser.Sprite(r.game,this.width,-this.height/2.1,"scaleBasket");return e.addChild(t),t.anchor.set(.5,.5),t.alpha=0,t},t.prototype.setBasePosition=function(e,t){this.scaleWeight.position.set(e,t)},t.prototype.update=function(){},t.prototype.tiltScale=function(e){this.scaleBalance&&this.scaleBalance.stop(),this.scaleShake&&this.scaleShake.stop(),this.scaleWeight.angle=this.oldAngle;var t=e?this.scaleWeight.angle-15:this.scaleWeight.angle+15;t>15&&(t=15),t<-15&&(t=-15),this.scaleBalance=0===t?r.game.add.tween(this.scaleWeight).to({angle:t},1500,Phaser.Easing.Elastic.Out,!0):r.game.add.tween(this.scaleWeight).to({angle:t},500,Phaser.Easing.Bounce.Out,!0),this.oldAngle=t},t.prototype.shakeScale=function(){var e=r.game.rnd.between(-4,4);this.scaleBalance?this.scaleBalance.isRunning||(this.scaleShake&&this.scaleShake.isRunning&&(this.scaleShake.stop(),this.scaleWeight.angle=this.oldAngle),this.scaleShake=r.game.add.tween(this.scaleWeight).to({angle:this.scaleWeight.angle+e},120,Phaser.Easing.Circular.Out,!0,0,void 0,!0)):(this.scaleShake&&this.scaleShake.isRunning&&(this.scaleShake.stop(),this.scaleWeight.angle=this.oldAngle),this.scaleShake=r.game.add.tween(this.scaleWeight).to({angle:this.scaleWeight.angle+e},120,Phaser.Easing.Circular.Out,!0,0,void 0,!0))},t.prototype.showBasket=function(e){e?r.game.add.tween(this.fruitBasket).to({alpha:1},500,Phaser.Easing.Exponential.Out,!0):r.game.add.tween(this.fruitBasket).to({alpha:0},500,Phaser.Easing.Exponential.Out,!0)},t.prototype.showMoney=function(e){e?r.game.add.tween(this.moneyBag).to({alpha:1},500,Phaser.Easing.Exponential.Out,!0):r.game.add.tween(this.moneyBag).to({alpha:0},500,Phaser.Easing.Exponential.Out,!0)},t}(Phaser.Sprite);i.doodadName="Scale",t.ScaleObject=i},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=n(2),a=function(e){function t(t,n,o){var i=e.call(this,t,n,o,"tree_1")||this;return i.anchor.set(.5,1),i.treeClickParticle=new r.TreeParticleObject(t,0,0),i.inputEnabled=!0,i.events.onInputDown.add(i.treeClickShake,i),i}return o(t,e),t.loadAssets=function(e){e.load.image("tree_1","images/mathman/Objects/Tree_1.png"),r.TreeParticleObject.loadAssets(e)},t.prototype.treeClickShake=function(){this.treeClickParticle.parent!==this.parent&&this.parent.addChild(this.treeClickParticle),this.treeShake=i.game.add.tween(this),this.treeShake.to({angle:3.5},40,Phaser.Easing.Bounce.apply,!1,0,0,!0),this.treeShake.start(),this.treeClickParticle.x=i.game.input.activePointer.x,this.treeClickParticle.y=i.game.input.activePointer.y,this.treeClickParticle.start(!0,2200,200,3)},t}(Phaser.Sprite);a.doodadName="Tree",t.TreeObject=a},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r._dirtSound=t.add.audio("dirt_Hit"),r.makeParticles(["spr_dot_2"]),r.minParticleScale=.9,r.maxParticleScale=.4,r}return o(t,e),t.prototype.PlayParticle=function(e,t,n){this.x=e,this.y=t,this.setAlpha(.5*n/50+.4,0,550,Phaser.Easing.Exponential.apply,!1),this.maxParticleScale=n,this.minParticleScale=n,this.maxParticleSpeed.setTo(160,0),this.minParticleSpeed.setTo(-160),this.particleDrag.setTo(150+200*n),this._dirtSound.volume=n,this._dirtSound.volume=this._dirtSound.volume/2,this._dirtSound.play(),this.start(!0,550,200,4)},t.loadAssets=function(e){e.load.image(t.sprDotKey,"images/Dot.png"),e.load.image(t.sprDot2Key,"images/Dot_2.png"),e.load.audio(t.audioDirtHitKey,"audio/DirtHit_1.wav")},t}(Phaser.Particles.Arcade.Emitter);r.sprDotKey="spr_dot",r.sprDot2Key="spr_dot_2",r.audioDirtHitKey="dirt_Hit",t.ClickCloudClutter=r},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.makeParticles("spr_leaf_1"),r.minParticleScale=.2,r.maxParticleScale=.4,r.setAlpha(1,0,3200,Phaser.Easing.Sinusoidal.apply),r.maxParticleSpeed.set(220,0),r.minParticleSpeed.set(-220,-100),r.particleDrag.x=800,r.particleDrag.y=150,r}return o(t,e),t.loadAssets=function(e){e.load.image("spr_leaf_1","images/mathman/Objects/leaf_1.png")},t}(Phaser.Particles.Arcade.Emitter);t.TreeParticleObject=r},function(e,t,n){"use strict";function o(e,t){return u.call(e,t)}function r(e,t){return c.call(e,t)}function i(e){return p.call(e)}function a(e,t,n){if(void 0===n&&(n=!1),e.length>0){for(var o=0,r=t(e[0]),i=1;i<e.length;i++){var a=t(e[i]);(r>a||n&&r===a)&&(o=i,r=a)}return e[o]}}function s(e,t,n){if(void 0===n&&(n=!1),e.length>0){for(var o=0,r=t(e[0]),i=1;i<e.length;i++){var a=t(e[i]);(r<a||n&&r===a)&&(o=i,r=a)}return e[o]}}function u(e){var t=this.indexOf(e);return-1!==t&&(this.splice(t,1),!0)}function c(e){return-1!==this.indexOf(e)}function p(){return this.slice(0)}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n;if(1===arguments.length){if(h(arguments[0]))return arguments[0];n="object"===typeof arguments[0]&&arguments[0].constructor===Array?arguments[0]:new Array(arguments[0])}else n=e.slice();return n.remove=u,n.has=c,n.clone=p,n}function h(e){return arguments[0].remove===u}function m(e){return arguments[0].remove&&!h(arguments[0])}function d(e,t){if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.removeFromArray=o,t.exitsInArray=r,t.cloneArray=i,t.findMinElement=a,t.findMaxElement=s,t.improveArray=l,t.isImproved=h,t.isModifiedByOthers=m,t.stringArrayCompare=d},function(e,t,n){"use strict";if(Object.defineProperty(t,"__esModule",{value:!0}),Map){var o=function(){function e(){this._map=new Map}return e.prototype.clear=function(){this._map.clear()},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.forEach=function(e,t){this._map.forEach(e)},e.prototype.get=function(e){return this._map.get(e)},e.prototype.has=function(e){return this._map.has(e)},e.prototype.set=function(e,t){return this._map.set(e,t),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e}();t.MapProxy=o}else{var r=function(){function e(){this._seekIndex=[],this._seekValues=[]}return e.prototype.clear=function(){this._seekIndex.length=0,this._seekValues.length=0},e.prototype.delete=function(e){var t=this._seekIndex.indexOf(e);return-1!==t&&(this._seekIndex.splice(t,1),this._seekValues.splice(t,1),!0)},e.prototype.forEach=function(e,t){for(var n=0;n<this._seekIndex.length;n++)e.call(t,this._seekValues[n],this._seekIndex[n])},e.prototype.get=function(e){var t=this._seekIndex.indexOf(e);return-1!==t?this._seekValues[t]:void 0},e.prototype.has=function(e){return-1!==this._seekIndex.indexOf(e)},e.prototype.set=function(e,t){var n=this._seekIndex.indexOf(e);return-1!==n?(this._seekIndex.push(e),this._seekValues.push(t)):this._seekValues[n]=t,this},Object.defineProperty(e.prototype,"size",{get:function(){return this._seekIndex.length},enumerable:!0,configurable:!0}),e}();t.MapProxy=r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.callback=t,this.context=n,this.amount=0,this._amountToReach=e,this._amountToReach<1&&this.callback.call(this.context)}return Object.defineProperty(e.prototype,"amountToReach",{get:function(){return this._amountToReach},set:function(e){this._amountToReach=e,this._amountToReach<1&&this.callback.call(this.context)},enumerable:!0,configurable:!0}),e.prototype.CountUp=function(){this.amount+=1,this.amountToReach===this.amount&&this.callback.call(this.context)},e}();t.CallbackCounter=o},function(e,t,n){"use strict";function o(e){i=e}function r(e,t){var n=document.getElementById(t);n&&(n.style.cursor="url("+e+"), auto")}Object.defineProperty(t,"__esModule",{value:!0});var i="content";t.setDefaultCustomCursorDivId=o,t.setCustomCursor=r},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(97)),o(n(101)),o(n(45)),o(n(100)),o(n(46));var r=n(98);t.setCustomCursor=r.setCustomCursor},function(e,t,n){"use strict";function o(e,t){return{value:e,index:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.createValueIndex=o},function(e,t,n){"use strict";function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"string"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=o,t.isString=r},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(103)),o(n(105)),o(n(104))},function(e,t,n){"use strict";function o(e,t,n){var o=null;if(n&&(o=r(e),n=null!==o),null===o){var i=(Math.round(100*e)/100).toString().split(".");o=i.length>=2?i[0]+","+i[1].slice(0,2):i[0]}return t&&(n?"1/"===o.slice(0,2)?o="X "+o.slice(1):o+="X":"1"===o?o="X":o+="X"),o}function r(e){for(var t=0,n=u;t<n.length;t++){var o=n[t];if(a.closeToNumber(e,o.closeToNumber,s))return o.text}return null}function i(e,t){u.push({closeToNumber:e,text:t})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(46);t.numberToString=o;var s=.001,u=[];t.addDivisionStylingTable=i;for(var c=2;c<21;c++)i(1/c,"1/ "+c.toString())},function(e,t,n){"use strict";function o(e){return e instanceof r}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.rightNumberObject=e,this.leftNumberObject=t,this.symbolObject=n}return e.prototype.GetValue=function(){return this.symbolObject.symbolComponent.calc(this.leftNumberObject,this.rightNumberObject)},e}();t.SymbolNumberGroup=r,t.isSymbolNumberGroup=o},function(e,t,n){"use strict";function o(e){return"*"===e?String.fromCharCode(183):e}Object.defineProperty(t,"__esModule",{value:!0}),t.symbolTextToString=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(107))},function(e,t,n){"use strict";function o(e,t,n){var o=s.improveArray();return o.spriteClass=t,o.state=e,o.defaultGroup=n,o.create=r,o.restElseCreate=i,o}function r(e){void 0===e&&(e=this.defaultGroup);for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];void 0!==this.defaultCreateArgs&&t.length<this.defaultCreateArgs.length&&t.push.apply(t,this.defaultCreateArgs.slice(t.length));var o=new((r=this.spriteClass).bind.apply(r,[void 0,this.state.game].concat(t)));return e?e.add(o):this.state.add.existing(o),this.onCreate&&(o=this.onCreate(o)),this.push(o),o;var r}function i(e,t){void 0===e&&(e=this.defaultGroup);for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(t){if(this.defaultResetArgs)for(var r in this.defaultResetArgs)void 0===t[r]&&(t[r]=this.defaultResetArgs[r])}else t=this.defaultResetArgs||{};for(var i=0,s=this;i<s.length;i++){var u=s[i];if(!u.exists){var c=u.getComponent(a.ResetAbleComponent);return c&&c.resetObject(t),this.onCreate?this.onCreate(u):u}}return this.create.apply(this,[e].concat(n))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(14),s=n(45);t.makeSpriteArray=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(109))},function(e,t,n){"use strict";function o(e,t,n,o){var i={step:0},a=r.game.add.tween(i).to({step:100},o);return a.onUpdateCallback(function(){for(var o=0,r=e;o<r.length;o++){r[o].tint=Phaser.Color.interpolateColor(t,n,100,i.step)}}),a}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.tweenTint=o},function(e,t,n){"use strict";function o(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}Object.defineProperty(t,"__esModule",{value:!0}),t.findMidPoint=o},function(e,t,n){"use strict";function o(e,t){var n=r.game.input.activePointer,o=t||n,i=o.x,a=o.y;e.position.setTo(i,a),n.swapTarget(e.input),e.input.startDrag(n)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.setToCurrentDrag=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(113))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(26),i=n(1),a=function(){function e(){}return e.prototype.beginProcess=function(e,t){this._state=t,this._callback=e,this._objects=[];for(var n=0;n<t.dropAreaObjects.length;n++){var o=t.dropAreaObjects[n];o.objectInArea&&this._objects.push(o.objectInArea)}for(var a=0,s=this._state.compositeSpawnObject;a<s.length;a++){var u=s[a];u.compositeComponent.isMerged||u.compositeComponent.merge()}r.loseObjectAppearAnimationFunc(this._start.bind(this),{objectsInDropAreas:i.cloneArray(this._objects),dropAreas:t.dropAreaObjects.clone(),winSymbol:t.winSymbolObjects[0],parenthesisPairs:t.parenthesisPairObjects.clone()})},e.prototype._start=function(){for(var e=new i.CallbackCounter(this._state.dropAreaObjects.length,this._whenObjectAreHome,this),t=0;t<this._state.dropAreaObjects.length;t++){var n=this._state.dropAreaObjects[t],r=n.objectInArea;if(r){this._objects.push(r);var a=r.getComponent(o.DADHomeComponent);if(a)a.moveHome(e.CountUp,e);else{var s=r.getComponent(o.DadSpawnComponent);s&&s.disappear(),e.amountToReach--}}else e.amountToReach--}},e.prototype._whenObjectAreHome=function(){this._state.dragAbleNumberObjects.forEach(function(e){return e.dADHomeComponent.SetDragAble(!0)}),this._state.dragAbleSymbolObjects.forEach(function(e){return e.dADHomeComponent.SetDragAble(!0)}),this._state.intermittedNumberObjects.forEach(function(e){return e.exists=!1}),this._state.intermittedSymbolsObjects.forEach(function(e){return e.exists=!1}),this._state.dropAreaObjects.forEach(function(e){e.objectInArea&&!e.objectInArea.getComponent(o.DragAndDropComponent)||e.dropArea.SetObjectInArea(null,o.ObjectInAreaStatusEnum.noObject)}),this._callback()},e}();t.LoseProcess=a},function(e,t,n){"use strict";function o(e,t){var n=e.index,o=e.value.symbolComponent,r=o.getSymbolsNumbers(t,n),i=r.left,a=r.right;return a&&i?o.isCalcValid(i.value,a.value):a?o.isCalcValid(a.value):!!i&&o.isCalcValid(i.value)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n(1),a=n(0),s=function(){function e(){this._parenthesisPairsCounter=0}return e.prototype.getSymbols=function(){return this._symbolValues},e.prototype.getNumbers=function(){return this._numberValues},e.prototype.getSecondStageStartDropArea=function(){return this._secondStageStartDropArea},e.prototype.getWinSymbol=function(){return this._winSymbol},e.prototype.beginProcess=function(e,t,n,o,a,s,u,c,p,l,h){function m(){for(var e=0,t=this._compositeValues;e<t.length;e++){var n=t[e],o=n.value.split(),a=o.numberObject,s=o.symbolObject,u=n.index;n.value.exists=!1,this._numberValues.push(i.createValueIndex(a,u+.5)),this._symbolValues.push(i.createValueIndex(s,u-.5))}this._currentSymbols=this._getCurrentSymbols(),r.beginAnimationFunc(this._process.bind(this),this.createBaseAnimationArgs())}var d=this;this._callbackAndContext={callback:l,context:h},this._numberValues=e,this._symbolValues=t,this._compositeValues=n,this._intermittedNumberArray=o,this._intermittedSymbolArray=a,this._winSymbol=u,this._dropAreas=s,this._parenthesisPairs=c,this._parenthesisPairs.sort(function(e,t){return e.executionPriority-t.executionPriority}),this._secondStageStartDropArea=p,this._isInSecondStage=!1,this._parenthesisPairsCounter=0;for(var f=!0;this._parenthesisPairsCounter<this._parenthesisPairs.length&&f;)(f=!this._symbolValues.some(function(e){var t=d._parenthesisPairs[d._parenthesisPairsCounter];return e.index>=t.startIndex&&e.index<=t.endIndex},this))&&(this._parenthesisPairsCounter+=1);r.splitAnimationFunc(m.bind(this),this.createSplitArgs())},e.prototype._process=function(){function e(){function e(){var e=this,t=!1;this._parenthesisPairsCounter<this._parenthesisPairs.length&&(t=!this._symbolValues.some(function(t){var n=e._parenthesisPairs[e._parenthesisPairsCounter];return t.index>=n.startIndex&&t.index<=n.endIndex},this)),t?(r.parenthesisDoneAnimationFunc(this._process.bind(this),this.createProcessEndArgs()),this._parenthesisPairsCounter+=1):this._process()}this._currentSymbol.value.exists=!1,i.removeFromArray(this._symbolValues,this._currentSymbol),o&&(o.value.exists=!1,i.removeFromArray(this._numberValues,o)),n&&(n.value.exists=!1,i.removeFromArray(this._numberValues,n));var t={numberValue:0,isX:!1};n&&o?t=this._currentSymbol.value.symbolComponent.calc(o.value,n.value):n?t=this._currentSymbol.value.symbolComponent.calc(n.value):o&&(t=this._currentSymbol.value.symbolComponent.calc(o.value));var a=this._currentSymbol.value.position,s=a.x,u=a.y,c=this._intermittedNumberArray.find(function(e){return!e.exists});c?c.restNumberObject(s,u,t.numberValue):c=this._intermittedNumberArray.create(void 0,s,u,t.numberValue),c.numberComponent.numberRepresenting=t.numberValue,c.numberComponent.isX=t.isX,this._newestNumberValue={value:c,index:this._currentSymbol.index},this._numberValues.push(this._newestNumberValue),r.processEndAnimationFunc(e.bind(this),this.createProcessEndArgs())}if(this.isProcessDone())return void(this._isInSecondStage?this._processEnd():(this._isInSecondStage=!0,this._currentSymbols=this._getCurrentSymbols(),this._checkForEdgeCases(this._process.bind(this))));this._currentSymbol=this._popNextSymbol();var t=this._currentSymbol.value.symbolComponent.getSymbolsNumbers(this._numberValues,this._currentSymbol.index),n=t.right,o=t.left;this._currentRightNumber=n,this._currentLeftNumber=o;this._currentSymbol.value.position.x,this._currentSymbol.value.position.y;r.processBeginAnimationFunc(e.bind(this),this.createProcessBeginArgs())},e.prototype._processEnd=function(){var e=this._callbackAndContext,t=e.callback,n=e.context,o=this._winSymbol.winCheckComponent.checkForWin(this._numberValues,this._symbolValues);o?r.winAnimationFunc(t.bind(n,o),this.createProcessEndArgs()):this._winSymbol.winCheckComponent instanceof a.WinEquationComponent?r.loseEquationAnimationFunc(t.bind(n,o),this.createBaseAnimationArgs()):r.loseAnimationFunc(t.bind(n,o),this.createProcessEndArgs())},e.prototype._checkForEdgeCases=function(e){function t(t){t.value.exists=!1,i.removeFromArray(this._numberValues,t),e()}var n=this._secondStageStartDropArea;if(null!==n){var o=this._numberValues.filter(function(e){return e.index<n.dropAreaIndex}),a=this._symbolValues.some(function(e){return e.index<n.dropAreaIndex});if(2===o.length&&!a){var s=o[0];if(s.index<o[1].index&&(s=o[1]),0===s.value.numberValue){var u=this.createBaseAnimationArgs();return u.numberObjectZero=s.value,void r.edgeCaseRemoveZeroAnima(t.bind(this,s),u)}if(s.value.numberValue>0){var c=this._intermittedSymbolArray.find(function(e){return!e.exists});void 0===c?c=this._intermittedSymbolArray.create(void 0,0,0,"+"):(c.changeSymbol&&c.changeSymbol("+"),c.position.setTo(0,0),c.exists=!0,c.alpha=1);var p=this.createBaseAnimationArgs(),l=(o[0].index+o[1].index)/2;return this._symbolValues.push(i.createValueIndex(c,l)),p.newSymbolObject=c,void r.edgeCaseSpawnSymbolAnima(e,p)}var c=this._intermittedSymbolArray.find(function(e){return!e.exists});void 0===c?c=this._intermittedSymbolArray.create(void 0,0,0,"-"):(c.changeSymbol&&c.changeSymbol("-"),c.position.setTo(0,0),c.exists=!0,c.alpha=1),s.value.numberValue*=-1;var p=this.createBaseAnimationArgs();return p.newSymbolObject=c,void r.edgeCaseSpawnSymbolAnima(e,p)}}e()},e.prototype._popNextSymbol=function(){var e,t=this,n=null;e=this._parenthesisPairsCounter<this._parenthesisPairs.length?this._currentSymbols.filter(function(e){var n=t._parenthesisPairs[t._parenthesisPairsCounter];return e.index>=n.startIndex&&e.index<=n.endIndex},this):this._currentSymbols;for(var r=0;r<e.length;r++){var a=e[r];o(a,this._numberValues)&&((null===n||a.value.symbolComponent.priority>n.value.symbolComponent.priority||a.value.symbolComponent.priority===n.value.symbolComponent.priority&&a.index<n.index)&&(n=a))}if(i.removeFromArray(this._currentSymbols,n),null===n)throw"no valid Symbol";return n},e.prototype._getCurrentSymbols=function(){var e=this._secondStageStartDropArea;return null!==e?this._isInSecondStage?this._symbolValues.filter(function(t){return t.index>=e.dropAreaIndex}):this._symbolValues.filter(function(t){return t.index<e.dropAreaIndex}):this._symbolValues},e.prototype.createBaseAnimationArgs=function(){var e=this,t=this._parenthesisPairs.filter(function(t,n){return n>=e._parenthesisPairsCounter},this);return{dropAreas:this._dropAreas,otherNumberValues:this._numberValues,otherSymbolValues:this._symbolValues,winSymbol:this._winSymbol,otherParenthesisPair:t,rightSideStartIndex:this._secondStageStartDropArea?this._secondStageStartDropArea.dropAreaIndex:void 0}},e.prototype.createProcessBeginArgs=function(){var e=this.createBaseAnimationArgs();return e.currentSymbol=this._currentSymbol,e.left=this._currentLeftNumber,e.currentParenthesisPair=this._parenthesisPairs.length>this._parenthesisPairsCounter?this._parenthesisPairs[this._parenthesisPairsCounter]:null,e.right=this._currentRightNumber,i.removeFromArray(e.otherParenthesisPair,e.currentParenthesisPair),e},e.prototype.createProcessEndArgs=function(){var e=this.createBaseAnimationArgs();return e.newNumber=this._newestNumberValue,e.currentParenthesisPair=this._parenthesisPairs.length>this._parenthesisPairsCounter?this._parenthesisPairs[this._parenthesisPairsCounter]:null,i.removeFromArray(e.otherParenthesisPair,e.currentParenthesisPair),e},e.prototype.createSplitArgs=function(){for(var e=[],t=0,n=this._compositeValues;t<n.length;t++){var o=n[t],r=o.value.split(),a=r.numberObject,s=r.symbolObject,u=o.value,c=o.index,p={numberObject:a,symbolObject:s,compositeObject:u};e.push(i.createValueIndex(p,c))}return{compositesAndPartsIndex:e}},e.prototype.isProcessDone=function(){for(var e=0,t=this._currentSymbols;e<t.length;e++){if(o(t[e],this._numberValues))return!1}return!0},e}();t.MathProcess=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(16);t.setBeginAnimationFunc=o.setBeginAnimationFunc,t.setLoseAnimationFunc=o.setLoseAnimationFunc,t.setProcessBeginAnimationFunc=o.setProcessBeginAnimationFunc,t.setProcessEndAnimationFunc=o.setProcessEndAnimationFunc,t.setWinAnimationFunc=o.setWinAnimationFunc;var r=n(26);t.setLoseObjectAppearAnimationFunc=r.setLoseObjectAppearAnimationFunc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(47),r=n(16),i=n(26),a=n(112),s=n(0),u=n(6),c=n(1);!function(e){function t(e){h=e,!f&&e.dropAreaObjects.every(function(e){return e.full})&&p(e.dropAreaObjects,e.intermittedNumberObjects,e.intermittedSymbolsObjects,e.winSymbolObjects,e.secondStageStartDropArea)}function n(e){d=new o.MathProcess,f=!1}function p(t,n,o,r,i){var a=t[0];if(!(t.length<1)&&a.objectInArea){var u=a.objectInArea;if(u.getComponent(s.NumberComponent)||u.getComponent(s.RootComponent)){for(var p=[],m=[],y=[],v=0;v<t.length;v++){var b=t[v];if(b.objectInArea){var g=b.objectInArea,_=g.getComponent(s.DragAndDropComponent);_&&_.SetDragAble(!1);g.getComponent(s.SymbolComponent)&&m.push(c.createValueIndex(g,v));g.getComponent(s.NumberComponent)&&p.push(c.createValueIndex(g,v));g.getComponent(s.CompositeComponent)&&y.push(c.createValueIndex(g,v))}}f=!0,e.onMathBegin.dispatch(),d.beginProcess(p,m,y,n,o,t.clone(),r[0],h.parenthesisPairObjects.clone(),i,l)}}}function l(t){t?(e.onMathDoneWin.dispatch(),u.runOnLevelWon(h),h.softCutNextLevel()):(h.dropAreaObjects.forEach(function(e){null!=e.objectInArea&&(e.objectInArea.exists=!0,e.objectInArea.position.copyFrom(e.position))}),m=new a.LoseProcess,m.beginProcess(function(){f=!1,e.onMathDoneLose.dispatch()},h))}var h,m,d=new o.MathProcess,f=!1;e.onMathBegin=new Phaser.Signal,e.onMathDoneLose=new Phaser.Signal,e.onMathDoneWin=new Phaser.Signal,u.events.onUpdate.add(t),u.events.onShutdown.add(n),e.setBeginAnimationFunc=r.setBeginAnimationFunc,e.setProcessBeginAnimationFunc=r.setProcessBeginAnimationFunc,e.setProcessEndAnimationFunc=r.setProcessEndAnimationFunc,e.setLoseAnimationFunc=r.setLoseAnimationFunc,e.setWinAnimationFunc=r.setWinAnimationFunc,e.setLoseObjectAppearAnimationFunc=i.setLoseObjectAppearAnimationFunc}(t.MathManger||(t.MathManger={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(6);!function(e){function t(e,t){var n=new d(e,t,h.length);return h.push(n),n}function n(e){var t=m.push(e)-1;return h[t]}function i(e,t){return m[t]=e,h[t]}function a(e){var t=m.indexOf(e);-1!==t&&(m.splice(t,1),m.forEach(function(e,t){if(e.getCurrentHomeNumber!==t){var n=h[t],o=n.x,r=n.y;e.changeHomeNumber(t,o,r)}}))}function s(t){var n=new Array;t.forEach(function(t,o){var r=t.getComponent(e.INumberMangerComponentType);r&&r.getUseHomePoint&&(n.push(r),m.splice(r.getCurrentHomeNumber,1))}),n.length>0&&(m.forEach(function(e,t){if(e.getCurrentHomeNumber!==t){var n=h[t],o=n.x,r=n.y;e.changeHomeNumber(t,o,r)}}),n.forEach(function(e){var t=m.push(e)-1;if(e.getCurrentHomeNumber!==t){var n=h[t],o=n.x,r=n.y;e.changeHomeNumber(t,o,r)}}))}function u(e){p=new(o.makeComponentAbleSprite(Phaser.Sprite))(e.game,e.game.width/2,e.game.height/2),e.add.existing(p),l=p.addComponent(o.StartingAreaComponent),l.events.numberObjectExit.add(s)}function c(e){m.length=0}var p,l,h=[],m=[];e.createHomePosition=t,e.registerNumberObjectComponent=n,e.registerNumberObjectComponentAt=i,e.removeNumberObjectComponent=a,r.events.onCreate.add(u),r.events.onShutdown.add(c),e.INumberMangerComponentType={componentName:"INumberMangerComponet"};var d=function(){function e(e,t,n){this.x=e,this.y=t,this._index=n}return Object.defineProperty(e.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),e}();e.HomePosition=d}(t.NumberManager||(t.NumberManager={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6);!function(e){function t(){for(var e in l)l[e].length=0;h.length=0}function n(e,t,n){void 0===n&&(n=[]);var o={item:e,intersections:[],overlapLayers:n};"string"==typeof t?(l[t]||(l[t]=new Array),l[t].push(o)):t.forEach(function(e){l[e]||(l[e]=new Array),l[e].push(o)}),h.push(o)}function r(e){for(var t in l)!function(t){for(var n=[],o=l[t],r=0;r<o.length;r++)o[r].item===e&&n.push(r);n.length>0&&n.forEach(function(e){return l[t].splice(e,0)})}(t)}function i(){for(var e=0,t=h;e<t.length;e++){var n=t[e];if(n.item.receiveOverlapEvent){for(var o=n.intersections,r=[],i=0,a=n.overlapLayers;i<a.length;i++){var m=a[i];m in l&&r.push.apply(r,p(l[m],n))}c(n,r),s(n,o,r),u(n,o,r),n.intersections=r}else n.intersections.length>0&&(n.intersections.length=0)}}function a(){t()}function s(e,t,n){if(void 0===n&&(n=[]),e.item.onOverlapExit&&!(t.length<=0)){for(var o=new Array,r=0,i=t;r<i.length;r++){var a=i[r];-1===n.indexOf(a)&&o.push(a.item.sprite)}o.length>0&&e.item.onOverlapExit(o)}}function u(e,t,n){if(e.item.onOverlapEnter){for(var o=new Array,r=0,i=n;r<i.length;r++){var a=i[r];-1===t.indexOf(a)&&o.push(a.item.sprite)}o.length>0&&e.item.onOverlapEnter(o)}}function c(e,t){if(e.item.onOverlapStay){for(var n=new Array(t.length),o=0;o<t.length;o++)n[o]=t[o].item.sprite;n.length>0&&e.item.onOverlapStay(n)}}function p(e,t){return e.filter(function(e){return e!==t&&Phaser.Rectangle.intersects(t.item.getOverlapRectangle(),e.item.getOverlapRectangle())})}var l={},h=[];e.clearLayers=t,e.addItem=n,e.removeItem=r,o.events.onUpdate.add(i),o.events.onShutdown.add(a)}(t.RectangleOverlapManger||(t.RectangleOverlapManger={}))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(t,n,o,r){var i=e.call(this,t,n,o,r,0)||this;return i.inputEnabled=!0,i.events.onInputOver.add(i._onInputOver,i),i.events.onInputOut.add(i._onInputOut,i),i.events.onInputDown.add(i._onInputDown,i),i}return o(t,e),t.prototype._onInputOver=function(){this.tint=13882323},t.prototype._onInputOut=function(){this.tint=16777215},t.prototype._onInputDown=function(){this.game.load.baseURL="",this.game.state.start("gameSelect")},t}(Phaser.Sprite);t.BackButtonGameSelect=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(17))},function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=n(17),i=n(122),a=function(e){function t(t,n,o,r,i,a,s,u){var c=e.call(this,t,n,o,r,i,a)||this;return c.index=s,c.inputEnabled=!0,c.events.onInputDown.add(c.OnButtonPress,c),c.events.onInputOver.add(c.OnButtonHover,c),c.events.onInputOut.add(c.OnButtonHoverEnd,c),c.tilePosition=new Phaser.Point(-r*u,0),c.btnText=c.game.add.text(.5*c.width,.5*c.height,(c.index+1).toString(),{font:"32px Arial",fill:"#FFFFFF",wordWrap:!0,wordWrapWidth:c.width,align:"center"}),c.btnText.anchor.set(.5),c.addChild(c.btnText),c}return o(t,e),t.prototype.OnButtonPress=function(){r.LevelTracker.SetCurrentLevelIndex(this.index),i.LevelHandler.LoadLevel(this.index)},t.prototype.OnButtonHover=function(){this.tint=13750737},t.prototype.OnButtonHoverEnd=function(){this.tint=16777215},t}(Phaser.TileSprite);t.LevelSelectButton=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),r=n(10);!function(e){function t(e){o.game.state.start("main",void 0,void 0,e,r.levelSelectInfo.gameBeginPlayed)}e.LoadLevel=t}(t.LevelHandler||(t.LevelHandler={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(48),r=n(10),i=n(5);!function(e){function t(){if(e.saveGameDictionary[r.levelSelectInfo.gameBeginPlayed])return e.saveGameDictionary[r.levelSelectInfo.gameBeginPlayed].levels}function n(t,n){e.saveGameDictionary[r.levelSelectInfo.gameBeginPlayed]&&a(),e.saveGameDictionary[r.levelSelectInfo.gameBeginPlayed].levels[t]=n}function i(){e.saveGameDictionary[r.levelSelectInfo.gameBeginPlayed]&&localStorage.setItem(r.levelSelectInfo.gameBeginPlayed+"-SaveData",JSON.stringify(e.saveGameDictionary[r.levelSelectInfo.gameBeginPlayed]))}function a(){var t=localStorage.getItem(r.levelSelectInfo.gameBeginPlayed+"-SaveData");e.saveGameDictionary[r.levelSelectInfo.gameBeginPlayed]=t?JSON.parse(t):s()}function s(){for(var e={levels:new Array(r.levelSelectInfo.amountOfLevels)},t=0;t<e.levels.length;t++)e.levels[t]={completed:!1};return e}function u(t){return!!e.saveGameDictionary[t]}e.saveGameDictionary=Object(null),e.getLevelData=t,e.setLevelData=n,e.saveGame=i,e.loadGame=a,e.hasDataLoaded=u,o.events.onLevelWon.add(function(t){window.__Game__DEBUG&&console.log("level "+(t.level+1)+" won"),e.setLevelData(t.level,{completed:!0}),i()})}(t.SaveHandler||(t.SaveHandler={})),i.defineRequire("states/levelSelect/saveHandler",this)},function(e,t,n){"use strict";function o(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),o(n(120)),o(n(29)),o(n(30)),o(n(48))}]);
//# sourceMappingURL=game.352ab2a597f0138459a6.js.map